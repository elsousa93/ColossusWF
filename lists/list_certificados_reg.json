{
    "actions": [
        {
            "className": "org.joget.apps.datalist.lib.FormRowDeleteDataListAction",
            "icon": "<i class=\"fas fa-trash-alt\"><\/i>",
            "id": "action_0",
            "label": "Delete",
            "name": "Form Row Delete Action",
            "properties": {
                "abortRelatedRunningProcesses": "",
                "confirmation": "",
                "datalist_type": "action",
                "deleteFiles": "",
                "deleteGridData": "",
                "deleteSubformData": "",
                "formDefId": "importacao_certificados_reg",
                "label": "ELIMINAR"
            },
            "type": "text"
        },
        {
            "className": "org.joget.plugin.enterprise.BeanShellDatalistAction",
            "icon": "<i class=\"fas fa-code\"><\/i>",
            "id": "action_1",
            "label": "Bean Shell",
            "name": "Bean Shell Datalist Action",
            "properties": {
                "confirmation": "",
                "datalist_type": "action",
                "label": "EXPORTAR",
                "script": "import java.io.BufferedInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.URL;\nimport org.joget.commons.util.LogUtil;\n\npublic void downloadFile() {\n    \n    LogUtil.info(\"Repositório Certificados\", \"Download File\");\n            \n    String urlStr = \"http://192.168.0.104:8080/jw/web/client/app/workflowPL/5/form/download/importacao_certificados_reg/a544b135-ac84-4b06-8189-c7d32cb937b5/lu%20tem%20selo.pdf.?attachment=true\";\n    String destino = \"file:///D:/Users/rgoncalves/Downloads/lu%20tem%20selo.pdf\";\n    \n    LogUtil.info(\"Repositório Certificados\", \"urlStr \" + urlStr + \"destino \" + destino);\n\n    BufferedInputStream in = new BufferedInputStream(new URL(urlStr).openStream());\n    \n    FileOutputStream fileOutputStream = new FileOutputStream(destino) {\n\n        byte[] dataBuffer = new byte[1024];\n        int bytesRead;\n\n        while ((bytesRead = in.read(dataBuffer, 0, 1024)) != -1) {\n           fileOutputStream.write(dataBuffer, 0, bytesRead);\n        }\n        \n        System.out.println(\"Download concluído.\");\n    }\n}\n}\n    /*} catch (IOException e) {\n        e.printStackTrace();\n    }*/\n   \n\ndownloadFile();"
            },
            "type": "text"
        },
        {
            "className": "org.joget.plugin.enterprise.BeanShellDatalistAction",
            "icon": "<i class=\"fas fa-code\"><\/i>",
            "id": "action_2",
            "label": "Bean Shell",
            "name": "Bean Shell Datalist Action",
            "properties": {
                "confirmation": "",
                "datalist_type": "action",
                "label": "EXPORTAR",
                "script": "import java.io.BufferedInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.URL;\nimport org.joget.commons.util.LogUtil;\n\npublic void downloadFile() {\n    \n    LogUtil.info(\"Repositório Certificados\", \"Download File\");\n            \n    URL url = new URL(\"http://192.168.0.104:8080/jw/web/client/app/workflowPL/5/form/download/importacao_certificados_reg/a544b135-ac84-4b06-8189-c7d32cb937b5/lu%20tem%20selo.pdf.\");\n    //String destino = \"file:///D:/Users/rgoncalves/Downloads/lu%20tem%20selo.pdf\";\n    \n    InputStream inputStream = url.openStream();\n    FileOutputStream fileOutputStream = new FileOutputStream(\"pdf/java_book.pdf\");\n    \n    byte[] bytes = new byte[1024];\n    int len;\n    \n    while((len = inputStream.read(bytes)) != -1){\n        fileOutputStream.write(bytes, 0, len);\n    }\n    \n    fileOutputStream.close();\n    inputStream.close();\n    \n     LogUtil.info(\"Repositório Certificados 2\", \"Download File\");\n}\n\n   \n\ndownloadFile();"
            },
            "type": "text"
        },
        {
            "className": "org.joget.plugin.enterprise.BeanShellDatalistAction",
            "icon": "<i class=\"fas fa-code\"><\/i>",
            "id": "action_3",
            "label": "Bean Shell",
            "name": "Bean Shell Datalist Action",
            "properties": {
                "confirmation": "",
                "datalist_type": "action",
                "label": "EXPORTAR",
                "script": "import java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.awt.Desktop;\nimport org.joget.commons.util.LogUtil;\n\npublic void downloadFile() {\n    \n    LogUtil.info(\"Repositório Certificados\", \"Download File\");\n            \n      if (Desktop.isDesktopSupported()) {\n      \n         //making a desktop object\n         Desktop desktop = Desktop.getDesktop();\n         try {\n            URI uri = new URI(\"https://www.tutorialspoint.com/index.htm\");\n            desktop.browse(uri);\n         } catch (IOException excp) {\n            excp.printStackTrace();\n         } catch (URISyntaxException excp) {\n            excp.printStackTrace();\n         }\n      }\n}\n\n   \n\ndownloadFile();"
            },
            "type": "text"
        }
    ],
    "binder": {
        "className": "org.joget.plugin.enterprise.JdbcDataListBinder",
        "properties": {
            "jdbcDatasource": "default",
            "optimisePaging": "",
            "primaryKey": "id",
            "sql": "SELECT c.id, c_entidade, c_ficheiro_certificado, c_data_validade, c_notas, c_nome_completo, c_nif\nFROM app_fd_certificados_reg c\nLEFT JOIN app_fd_info_colaboradores ic ON ic.c_user_colaborador = c.c_entidade"
        }
    },
    "buttonPosition": "bottomLeft",
    "checkboxPosition": "left",
    "columns": [
        {
            "action": {
                "className": "",
                "properties": {}
            },
            "alignment": "",
            "datalist_type": "column",
            "exclude_export": "",
            "filterable": true,
            "format": {
                "className": "",
                "properties": {}
            },
            "headerAlignment": "",
            "hidden": "false",
            "id": "column_0",
            "label": "Entidade",
            "name": "c_nome_completo",
            "sortable": "false",
            "style": "",
            "width": ""
        },
        {
            "action": {
                "className": "",
                "properties": {}
            },
            "alignment": "",
            "datalist_type": "column",
            "exclude_export": "",
            "filterable": true,
            "format": {
                "className": "",
                "properties": {}
            },
            "headerAlignment": "",
            "hidden": "false",
            "id": "column_2",
            "label": "NIF",
            "name": "c_nif",
            "sortable": "false",
            "style": "",
            "width": ""
        },
        {
            "action": {
                "className": "",
                "properties": {}
            },
            "alignment": "",
            "datalist_type": "column",
            "exclude_export": "",
            "filterable": true,
            "format": {
                "className": "org.joget.tutorial.FileLinkDatalistFormatter",
                "properties": {
                    "attachment": "true",
                    "formDefId": "importacao_certificados_reg"
                }
            },
            "headerAlignment": "",
            "hidden": "false",
            "id": "column_1",
            "label": "Certificado",
            "name": "c_ficheiro_certificado",
            "sortable": "false",
            "style": "",
            "width": ""
        },
        {
            "action": {
                "className": "",
                "properties": {}
            },
            "alignment": "",
            "datalist_type": "column",
            "exclude_export": "",
            "filterable": true,
            "format": {
                "className": "org.joget.plugin.enterprise.DateFormatter",
                "properties": {
                    "dataFormat": "yyyy-MM-dd",
                    "dateStoreInUTC": "",
                    "displayFormat": "dd/MM/yyyy"
                }
            },
            "headerAlignment": "",
            "hidden": "false",
            "id": "column_5",
            "label": "Data Validade",
            "name": "c_data_validade",
            "sortable": "true",
            "style": "",
            "width": ""
        },
        {
            "action": {
                "className": "",
                "properties": {}
            },
            "alignment": "",
            "datalist_type": "column",
            "exclude_export": "",
            "filterable": true,
            "format": {
                "className": "",
                "properties": {}
            },
            "headerAlignment": "",
            "hidden": "false",
            "id": "column_3",
            "label": "Notas",
            "name": "c_notas",
            "sortable": "false",
            "style": "",
            "width": ""
        }
    ],
    "considerFilterWhenGetTotal": "",
    "description": "",
    "disableResponsive": "",
    "filters": [
        {
            "datalist_type": "filter",
            "filterParamName": "d-5340970-fn_c_nome_completo",
            "hidden": "",
            "id": "filter_0",
            "label": "Entidade",
            "name": "c_nome_completo",
            "type": {
                "className": "org.joget.apps.datalist.lib.TextFieldDataListFilterType",
                "properties": {"defaultValue": ""}
            }
        },
        {
            "datalist_type": "filter",
            "filterParamName": "d-5340970-fn_c_nif",
            "hidden": "",
            "id": "filter_1",
            "label": "NIF",
            "name": "c_nif",
            "type": {
                "className": "org.joget.apps.datalist.lib.TextFieldDataListFilterType",
                "properties": {"defaultValue": ""}
            }
        }
    ],
    "hidePageSize": "",
    "id": "list_certificados_reg",
    "name": "Registos - Repositório de Certificados",
    "order": "",
    "orderBy": "",
    "pageSize": "0",
    "pageSizeSelectorOptions": "10,20,30,40,50,100",
    "responsiveView": [
        {
            "breakpoint": "",
            "columns": "",
            "view": "Mobile"
        },
        {
            "breakpoint": "",
            "columns": "",
            "view": "Tablet"
        }
    ],
    "rowActions": [],
    "searchPopup": "",
    "showDataWhenFilterSet": "",
    "showPageSizeSelector": "true",
    "useSession": ""
}