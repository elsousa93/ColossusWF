{
    "className": "org.joget.apps.form.model.Form",
    "elements": [
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section2",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                    "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "25225800-b093-d374-de3c-6bbe183e40ea": {},
                    "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                    "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                    "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                    "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                    "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                    "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                    "af05024d-eace-f30c-cea0-32485ecb7b2a": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                    "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                    "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field12",
                            "label": "",
                            "permission_rules": {
                                "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                                "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                                "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "value": "<div class=\"col text-start\">\r\n    <span class=\"material-symbols-rounded md-40\"> group <\/span> \r\n\t<div class = \"subform-section-title\">\r\n\t\t<span>INTERVENIENTES<\/span>\r\n\t<\/div> \r\n<\/div>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "id_processo",
                            "permission_rules": {
                                "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                                "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                                "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "id_sub_processo",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "#process.processId#",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "lista_intervenientes_criada_2",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "cliente_principal_count",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "variavel_analisar",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "0",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "valores_colunaConjugue",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "atualizar_envio_processo",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "aviso_cliente_principal",
                            "label": "",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "value": "<h hidden name=\"aviso_cliente_principal\" style=\"color:red;font-size:15px;\">ATENÇÃO: CLIENTE PRINCIPAL NÃO EXISTENTE!<\/h> "
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "hide_checklist_column",
                            "label": "",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "value": "<script type=\"text/javascript\">\r\n\r\n    $(document).ready(function(){\r\n        var value = FormUtil.getValue(\"id_sub_processo\");\r\n        if(!value.includes(\"Filtro\")){\r\n            $(\"th[id*=lista_intervenientes_resultado_checklist]\").hide();\r\n            $(\"span[id*=lista_intervenientes_resultado_checklist]\").parent().hide();\r\n        }\r\n    });\r\n    \r\n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.plugin.enterprise.FormGrid",
                        "properties": {
                            "abortRelatedRunningProcesses": "",
                            "deleteFiles": "true",
                            "deleteGridData": "true",
                            "deleteMessage": "Delete row?",
                            "deleteSubformData": "true",
                            "disabledAdd": "",
                            "disabledDelete": "",
                            "enableSorting": "",
                            "errorMessage": "",
                            "formDefId": "interveniente",
                            "height": "85%",
                            "id": "lista_intervenientes",
                            "label": "",
                            "loadBinder": {
                                "className": "org.joget.plugin.enterprise.MultirowFormBinder",
                                "properties": {
                                    "foreignKey": "id_intervenientes",
                                    "formDefId": "interveniente"
                                }
                            },
                            "options": [
                                {
                                    "format": "",
                                    "formatType": "text",
                                    "label": "Interveniente",
                                    "value": "ultimo_codigo_interveniente",
                                    "width": ""
                                },
                                {
                                    "format": "",
                                    "formatType": "text",
                                    "label": "Nome",
                                    "value": "nome",
                                    "width": ""
                                },
                                {
                                    "format": "opcoesDisplayGrid",
                                    "formatType": "options",
                                    "label": "Estado Civil",
                                    "value": "estado_civil",
                                    "width": ""
                                },
                                {
                                    "format": "opcoesDisplayGrid",
                                    "formatType": "options",
                                    "label": "Regime casamento",
                                    "value": "regime_casamento",
                                    "width": ""
                                },
                                {
                                    "format": "",
                                    "formatType": "text",
                                    "label": "Cônjuge",
                                    "value": "conjugue",
                                    "width": ""
                                },
                                {
                                    "format": "",
                                    "formatType": "text",
                                    "label": "Cliente Principal",
                                    "value": "cliente_principal",
                                    "width": ""
                                },
                                {
                                    "format": "",
                                    "formatType": "text",
                                    "label": "Variavel",
                                    "value": "variavel",
                                    "width": ""
                                },
                                {
                                    "format": "opcoesDisplayGrid",
                                    "formatType": "options",
                                    "label": "Tipo de Interveniente",
                                    "value": "tipo_interveniente",
                                    "width": ""
                                },
                                {
                                    "format": "",
                                    "formatType": "text",
                                    "label": "Último Conjugue",
                                    "value": "ultimo_conjugue",
                                    "width": ""
                                },
                                {
                                    "format": "opcoesDisplayGrid",
                                    "formatType": "options",
                                    "label": "Checklist",
                                    "value": "resultado_checklist",
                                    "width": ""
                                },
                                {
                                    "format": "",
                                    "formatType": "text",
                                    "label": "Último Autorizante Interveniente",
                                    "value": "ultimo_autorizante_interveniente",
                                    "width": ""
                                },
                                {
                                    "format": "",
                                    "formatType": "text",
                                    "label": "Último Procurador Interveniente",
                                    "value": "ultimo_procurador_interveniente",
                                    "width": ""
                                },
                                {
                                    "format": "",
                                    "formatType": "text",
                                    "label": "Interprete do",
                                    "value": "interprete_do",
                                    "width": ""
                                }
                            ],
                            "pageSize": "20",
                            "permission_rules": {
                                "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                                "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                                "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "showRowNumber": "",
                            "storeBinder": {
                                "className": "org.joget.plugin.enterprise.MultirowFormBinder",
                                "properties": {
                                    "foreignKey": "id_intervenientes",
                                    "formDefId": "interveniente"
                                }
                            },
                            "submit-label-normal": "",
                            "submit-label-readonly": "",
                            "uniqueKey": "",
                            "validateMaxRow": "",
                            "validateMinRow": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellMultiRowValidator",
                                "properties": {
                                    "decoration": "",
                                    "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.model.FormRow;\r\nimport org.joget.apps.form.model.FormRowSet;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.commons.util.LogUtil;\r\n  \r\npublic boolean validate(Element element, FormRowSet rows, FormData formData) {\r\n    boolean result = true;\r\n    if (rows != null && !rows.isEmpty()) {\r\n        int count = 0;\r\n        \r\n        //Get value from workflow variable\r\n        String flagvalidate = \"#variable.flag_ultima_atividade#\";\r\n        String faseProcessoCampo = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\r\n        String enviarPara = \"#form.processos.enviar_processo_hidden#\";\r\n        for (FormRow row : rows) {\r\n            try {\r\n                //Only validate if it is the last activity of the subflow\r\n                //Get fase de processo through processId\r\n                String faseProcesso = \"#process.processId#\";\r\n                if(flagvalidate.equals(\"1\")){\r\n                    /*if(row.getProperty(\"resultado_checklist\") == null || row.getProperty(\"resultado_checklist\").isEmpty() || row.getProperty(\"resultado_checklist\").equals(\"NOK\")){\r\n                        String id = FormUtil.getElementParameterName(element);\r\n                        formData.addFormError(id, \"Existem checklists incompletas\");\r\n                        result = false;\r\n                    }*/\r\n\r\n                    /*if(!faseProcesso.contains(\"Filtro\")){\r\n                        result = true;\r\n                    }    */      \r\n                    \r\n                    if(faseProcessoCampo.equals(\"CNT\")){\r\n                        \r\n                        String estadoCivil = row.getProperty(\"estado_civil\");\r\n                        String interveniente = now.getPorperty(\"interveniente_soc_part\");\r\n                        LogUtil.info(\"Interveniente:\", \"CCCCCCC\" + interveniente);\r\n                       \r\n                        \r\n                        if((estadoCivil == null || estadoCivil.trim().isEmpty()) && interveniente.equal(\"particular\")){\r\n                            String id = FormUtil.getElementParameterName(element);\r\n                            formData.addFormError(id, \"Existem intervenientes sem estado civil\");\r\n                            result = false;\r\n                        }\r\n                    }else{\r\n                         result = true;\r\n                    }\r\n                }\r\n                \r\n                //verify how many cliente_principal exists\r\n                String isPrincipal = row.getProperty(\"cliente_principal\");\r\n                if (isPrincipal.equals(\"CHECK\")){\r\n                    count += 1;\r\n                }\r\n            } catch (Exception e) {}\r\n        }\r\n         \r\n        if (count == 0) {\r\n            String id = FormUtil.getElementParameterName(element);\r\n            formData.addFormError(id, \"Deve selecionar um cliente principal\");\r\n            result = false;\r\n        }else if (count > 1){\r\n            String id = FormUtil.getElementParameterName(element);\r\n            formData.addFormError(id, \"Selecionou mais do que um Cliente Principal, apenas pode selecionar um\");\r\n            result = false;\r\n        }else{\r\n            //Don't throw error\r\n        }\r\n    }\r\n  \r\n    return result;\r\n}\r\n  \r\n//call validate method with injected variable\r\nreturn validate(element, rows, formData);"
                                }
                            },
                            "width": "85%"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field10",
                            "label": "",
                            "permission_rules": {
                                "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                                "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                                "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "value": "<script type=\"text/javascript\">\r\n    \r\n    \r\n    $(document).ready(function(){\r\n        \r\n        //get value from field that controls if the WF number is automatically generated or not\r\n        var tipo_interveniente = FormUtil.getValues(\"lista_intervenientes.tipo_interveniente\");\r\n        var values = FormUtil.getValues(\"lista_intervenientes.cliente_principal\");\r\n        var count = 0;\r\n\r\n        if(values != null && values.length > 0){\r\n            for (var i = 0; i < values.length; i++) {\r\n                if(values[i] === \"CHECK\"){\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n        \r\n        var field = FormUtil.getField(\"lista_intervenientes_criada_2\");\r\n        $(field).val(tipo_interveniente.toString()); //set value\r\n        \r\n        var field_cliente = FormUtil.getField(\"cliente_principal_count\");\r\n        $(field_cliente).val(count.toString()); //set value\r\n\r\n        \r\n        \r\n        //Passar a informação para o form de dentro\r\n        var value_lista_intervenientes = FormUtil.getValue(\"lista_intervenientes_criada_2\");\r\n        sessionStorage.setItem(\"lista_intervenientes_criada_2\", value_lista_intervenientes.toString());\r\n\r\n        \r\n        //Passar a informação para o form de dentro\r\n        sessionStorage.setItem(\"cliente_principal_count\", count.toString());\r\n\r\n        \r\n        if (values.length == 0 || count == 1){\r\n            $(\"div.aviso_cliente_principal h[name=aviso_cliente_principal]\").hide();\r\n        }else if (count == 0){\r\n            $(\"div.aviso_cliente_principal h[name=aviso_cliente_principal]\").show();\r\n        }else{\r\n        }\r\n\r\n    });\r\n    \r\n    $(document).change(function(){\r\n        \r\n        //get value from field that controls if the WF number is automatically generated or not\r\n        var tipo_interveniente = FormUtil.getValues(\"lista_intervenientes.tipo_interveniente\");\r\n        var values = FormUtil.getValues(\"lista_intervenientes.cliente_principal\");\r\n        var count = 0;\r\n        \r\n        if(values != null && values.length > 0){\r\n            for (var i = 0; i < values.length; i++) {\r\n                if(values[i] === \"CHECK\"){\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n        \r\n        var field = FormUtil.getField(\"lista_intervenientes_criada_2\");\r\n        $(field).val(tipo_interveniente.toString()); //set value\r\n        \r\n        var field_cliente = FormUtil.getField(\"cliente_principal_count\");\r\n        $(field_cliente).val(count.toString()); //set value\r\n\r\n        \r\n        //Passar a informação para o form de dentro\r\n        var value_lista_intervenientes = FormUtil.getValue(\"lista_intervenientes_criada_2\");\r\n        sessionStorage.setItem(\"lista_intervenientes_criada_2\", value_lista_intervenientes.toString());\r\n\r\n        //Passar a informação para o form de dentro\r\n        sessionStorage.setItem(\"cliente_principal_count\", count.toString());\r\n        \r\n        if (values.length == 0 || count == 1){\r\n            $(\"div.aviso_cliente_principal h[name=aviso_cliente_principal]\").hide();\r\n        }else if (count == 0){\r\n            $(\"div.aviso_cliente_principal h[name=aviso_cliente_principal]\").show();\r\n        }else{\r\n        }\r\n\r\n\r\n    });\r\n    \r\n    $(window).load(function(){\r\n         var flag_validacao = '#variable.flag_validacao#';\r\n         \r\n        if(flag_validacao === '1' || flag_validacao.startsWith(\"#variable.flag_validacao\")){\r\n            $(\"form#processo :input\").change(function(){\r\n                $(\"input#flag_alteracoes\").attr(\"value\",\"SIM\");    \r\n            });\r\n        }\r\n    });\r\n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field5",
                            "label": "",
                            "permission_rules": {
                                "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                                "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                                "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "value": "<script type=\"text/javascript\">\r\n    $(document).ready(function(){\r\n        \r\n        //create Variables\r\n        //var flagShowId = \"gerar_numero\";\r\n        \r\n        //get value from field that controls if the WF number is automatically generated or not\r\n        var value = FormUtil.getValue(\"id_processo\");\r\n\r\n        //console.log(value);\r\n        \r\n        sessionStorage.setItem(\"id_processo\", value);\r\n\r\n    });\r\n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "apresentacao_campos",
                            "label": "",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "value": "<script>\n\n$(document).ready(function(){\n    \n    //Atualizar valor do hidden field do envio_processo\n    $('input[id*=atualizar_envio_processo]').val(\"#form.detalhe_processo.envio_processo[{form.processos.detalhe_processo}]#\");\n        \n    \n    //Apresentação dos campos\n    var origem_processo = \"#form.detalhe_processo.origem_processo[{form.processos.detalhe_processo}]#\";\n    var servico = FormUtil.getValue(\"id_processo\");\n    if( servico.includes(\"CreditoHabitacao\") ){\n        $(\"th[id*=intervenientes_cliente_principal]\").hide();\n        $(\"span[id*=intervenientes_cliente_principal]\").parent().hide();\n    \n        //$(\"div#multiPaged_3_intervenientes_section5\").parent().hide();\n            \n        if(!(origem_processo === \"ACE\" || origem_processo === \"PRE\" || origem_processo === \"TRD\")){\n            \n        \n            $(\"div[id*=intervenientes_acidentais]\").parent().remove();\n            $(\"textarea[id*=observacoes_intervenientes]\").parent().remove();\n            \n            //$(\"th[id*=codigo_interveniente]\").remove();\n            //$(\"span[id*=codigo_interveniente]\").parent().remove();\n            \n            $(\"th[id*=codigo_interveniente]\").hide();\n            $(\"span[id*=codigo_interveniente]\").parent().hide();\n            \n            $(\"th[id*=numero_cc]\").remove();\n            $(\"span[id*=numero_cc]\").parent().remove();\n            \n            $(\"th[id*=intervenientes_validade]\").remove();\n            $(\"span[id*=intervenientes_validade]\").parent().remove();\n            \n            $(\"th[id*=intervenientes_nif]\").remove();\n            $(\"span[id*=intervenientes_nif]\").parent().remove();\n            \n            $(\"th[id*=intervenientes_naturalidade]\").remove();\n            $(\"span[id*=intervenientes_naturalidade]\").parent().remove();\n            \n            $(\"th[id*=intervenientes_morada]\").remove();\n            $(\"span[id*=intervenientes_morada]\").parent().remove();\n            \n        }\n        \n        if(!(origem_processo === \"ACE\" || origem_processo === \"PRE\" || origem_processo === \"TRD\" || origem_processo === \"PAR\" || origem_processo === \"TOT\" || origem_processo === 'FRM')){\n            \n            $(\"div[id*=compreendem_portugues]\").parent().remove();\n        }\n        \n    }\n    \n    \n});\n    \n    \n    \n    \n    \n    \n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "atualizaInterveniente",
                            "label": "",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "value": "<script>\r\n\r\n\t//Atualiza Codigo Interveniente \r\n    $(window).on('load', function(){\r\n        $(document).change(function() {\r\n        \r\n            var coluna_tipoInterveniente = FormUtil.getGridCellValues(\"lista_intervenientes.tipo_interveniente\");\r\n            //console.log(\"Array:\" + coluna_tipoInterveniente);\r\n            //var array_colunaTipoInterveniente = coluna_tipoInterveniente.split(\",\");\r\n            \r\n            //console.log(\"Array:\" + array_valoresColunaConjugue);\r\n            \r\n            var linha = 0;\r\n            var i = 0;\r\n            var texto = \"\";\r\n            var count_ven = 1;\r\n            var count_prp = 1;\r\n            var count_fia = 1;\r\n            var count_hip = 1;\r\n            var count_rsv = 1;\r\n            var count_rsc = 1;\r\n            var count_out = 1;\r\n            var count_par = 1;\r\n            var count_rog = 1;\r\n            var count_usu = 1;\r\n            var count_scc = 1;\r\n            var count_scv = 1;\r\n            var interv_autorizante = null;\r\n            var interv_procurador = null;\r\n            var interv_interprete = null;\r\n            \r\n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").each(function(){\r\n                \r\n                var valor_antigo = $(this).text().trim();\r\n                var valor_novo = \"\";\r\n                \r\n                //console.log(\"Posição vetor: \" + valor_antigo + \" elemento: \" + valor_novo);\r\n                texto = \"\";\r\n                \r\n                if(valor_antigo != null && valor_antigo !== ''){\r\n                    \r\n                    var valorColuna = coluna_tipoInterveniente[i];\r\n                    if($(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").length != coluna_tipoInterveniente.length){\r\n                         valorColuna = coluna_tipoInterveniente[i-1];\r\n                    }    \r\n                    \r\n                    //console.log(valorColuna);\r\n                    \r\n                    if(valorColuna == \"VEN\"){\r\n                        texto = \"Vendedor_\" + count_ven;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_ven++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"PRP\"){\r\n                        texto = \"Proponente_\" + count_prp;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_prp++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"FIA\"){\r\n                        texto = \"Fiador_\" + count_fia;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_fia++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"HIP\"){\r\n                        texto = \"Hipotecante_\" + count_hip;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_hip++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"RSV\"){\r\n                        texto = \"Representante_Sociedade_V\" + count_rsv;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_rsv++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"RSC\"){\r\n                        texto = \"Representante_Sociedade_P\" + count_rsc;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_rsc++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"AUT\"){\r\n                        interv_autorizante = $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_ultimo_autorizante_interveniente]\")[linha].innerText;\r\n                        texto = \"Autorizante \" + interv_autorizante;\r\n                        var valor_replace = texto.replaceAll(\" \", \"_\");\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", valor_replace, linha);\r\n                        valor_novo = valor_antigo;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"PRO\"){\r\n                        interv_procurador = $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_ultimo_procurador_interveniente]\")[linha].innerText;\r\n                        texto = \"Procurador \" + interv_procurador;\r\n                        var valor_replace = texto.replaceAll(\" \", \"_\");\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", valor_replace, linha);\r\n                        valor_novo = valor_antigo;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"OUT\"){\r\n                        texto = \"Interveniente_\" + count_out;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_out++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"PAR\"){\r\n                        texto = \"Parente_\" + count_par;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_par++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"ROG\"){\r\n                        texto = \"Rogo_\" + count_rog;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_rog++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"SCC\"){\r\n                        texto = \"Sociedade_P\" + count_scc;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_scc++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"SCV\"){\r\n                        texto = \"Sociedade_V\" + count_scv;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_scv++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"USU\"){\r\n                        texto = \"Usufrutuário_\" + count_usu;\r\n                        //updateCell(\"lista_intervenientes\", \"codigo_interveniente\", texto, linha);\r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        count_usu++;\r\n                    }\r\n                    \r\n                    if(valorColuna == \"INT\"){\r\n                        interv_interprete = $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_interprete_do]\")[linha].innerText;\r\n                        \r\n                        var intervenientes = interv_interprete.split(';');\r\n                        intervenientes.sort((a, b) => a.localeCompare(b));\r\n                       \r\n                        var tipos_intervenientes = intervenientes.map(interveniente => interveniente.split('_').shift());\r\n                        var tipo_primeiro_interveniente = tipos_intervenientes[0];\r\n                        \r\n                        var tipos_iguais = tipos_intervenientes.slice(1).every(interveniente => interveniente === tipo_primeiro_interveniente);\r\n                        \r\n                        var abrev = tipo_primeiro_interveniente.charAt(0).toUpperCase() + intervenientes[0].charAt(intervenientes[0].length -1);\r\n            \r\n                        if (tipos_iguais) {\r\n                            if(intervenientes.length == 1){\r\n                                texto = \"Interprete_\" + abrev;\r\n                            } else{\r\n                                texto = \"Interprete_\" + tipo_primeiro_interveniente.charAt(0).toUpperCase();\r\n                            }\r\n                            \r\n                        } else {\r\n                            texto = \"Interprete_\" + abrev;\r\n                        }\r\n                        \r\n                        updateCell(\"lista_intervenientes\", \"ultimo_codigo_interveniente\", texto, linha);\r\n                        valor_novo = texto;\r\n                        \r\n                    }\r\n                    \r\n                    \r\n                    if(valor_antigo !== valor_novo){\r\n                        var valor_colunaConjugue;\r\n                        var linha_a_substituir = null;\r\n                        var aux = 0;\r\n                        \r\n                        $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_conjugue]\").each(function(){\r\n                            valor_colunaConjugue = $(this).text().trim();\r\n                            \r\n                            if(valor_colunaConjugue == valor_antigo){\r\n                                linha_a_substituir = aux;\r\n                                if(linha_a_substituir != null){\r\n                                    updateCell(\"lista_intervenientes\", \"conjugue\", valor_novo, linha_a_substituir);\r\n                                }\r\n                            }\r\n                            \r\n                            aux++;\r\n                        });\r\n                    }\r\n                }\r\n                \r\n                function updateCell(fieldid, cellid, value, rowNo) {\r\n                    var element = FormUtil.getField(fieldid);\r\n                    var row = $(element).find(\"tr.grid-row:eq(\"+(rowNo)+\")\"); //0-based\r\n                    var data = $(row).find(\"textarea\").val();\r\n                    data = eval(\"[\"+data+\"]\")[0];\r\n        \r\n                    data[cellid] = value;\r\n                    $(element).enterpriseformgrid(\"fillValue\", element, row, JSON.stringify(data));\r\n                }\r\n                \r\n                linha++;\r\n                i++;\r\n            });\r\n            \r\n        });\r\n    });\r\n    \r\n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "variaveisSessionStorage",
                            "label": "",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "value": "<script>\n\n    $(window).on(\"load\", function(){\n        var campoConjugue = \"\";\n        \n        $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_conjugue]\").each(function(){\n            campoConjugue += $(this).text().trim();\n            campoConjugue +=\",\";\n        });\n        \n        var last_character = campoConjugue.charAt(campoConjugue.length-1);\n        \n        if(last_character == \",\"){\n            campoConjugue = campoConjugue.slice(0, -1);\n        }\n        \n        sessionStorage.setItem(\"valoresConjugue_variavel\", campoConjugue);\n        \n       \n        //Passar para dentro códigos de intervenientes\n        var array_codigos_intervenientes = \"\";\n        \n        $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").each(function(){\n            array_codigos_intervenientes += $(this).text();\n            array_codigos_intervenientes +=\",\";\n        });\n        \n        var last_character = array_codigos_intervenientes.charAt(campoConjugue.length-1);\n        \n        if(last_character == \",\"){\n            array_codigos_intervenientes = array_codigos_intervenientes.slice(0, -1);\n        }\n        \n        sessionStorage.setItem(\"valores_codigo_intervenientes\", array_codigos_intervenientes);\n        \n        \n\n        //Passar para dentro do form o valor do proponente que está a ser editado\n        sessionStorage.setItem(\"valor_interveniente\", \"\");\n        sessionStorage.setItem(\"valor_conjugue_select\", \"\");\n        \n        var els = document.getElementsByClassName(\"grid-action-edit\");\n\n        for(var i = 0, x = els.length; i < x; i++) {\n        \tels[i].onclick = function(){\n        \t\t//console.log('Adicionou função onClick');\n        \t\tconst elemento_linha = $(this).parent().parent().children('td:first').children().children().text();\n        \t\tsessionStorage.setItem(\"valor_interveniente\", elemento_linha);\n        \t\tconst elemento_linha_2 = $(this).parent().parent().children('td:nth-child(5)').children().children().text();\n        \t\tsessionStorage.setItem(\"valor_conjugue_select\", elemento_linha_2);\n        \t}\n        }\n        \n        \n        var botao_adicionar = document.getElementsByClassName(\"grid-action-add\");\n        \n        for(var i = 0, x = botao_adicionar.length; i < x; i++) {\n            botao_adicionar[i].onclick = function(){\n        \t\tsessionStorage.setItem(\"valor_conjugue_select\", \"\");\n        \t}\n        }\n        \n    });\n\n    //Incrementar Variavel\n    $(document).change(function(){\n        $(window).ready(function(){\n            var campoConjugue = \"\";\n            \n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_conjugue]\").each(function(){\n                campoConjugue += $(this).text().trim();\n                campoConjugue +=\",\";\n            });\n            \n            //console.log(\"CAMPO CONJUGUE ARRAY \" + campoConjugue);\n            \n            var last_character = campoConjugue.charAt(campoConjugue.length-1);\n            \n            if(last_character == \",\"){\n                campoConjugue = campoConjugue.slice(0, -1);\n            }\n    \n            sessionStorage.setItem(\"valoresConjugue_variavel\", campoConjugue);\n            \n            \n            \n            //Passar para dentro códigos de intervenientes\n            var array_codigos_intervenientes = \"\";\n            \n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").each(function(){\n                array_codigos_intervenientes += $(this).text().trim();\n                array_codigos_intervenientes +=\",\";\n            });\n            \n            var last_character = array_codigos_intervenientes.charAt(campoConjugue.length-1);\n            \n            if(last_character == \",\"){\n                array_codigos_intervenientes = array_codigos_intervenientes.slice(0, -1);\n            }\n            \n            sessionStorage.setItem(\"valores_codigo_intervenientes\", array_codigos_intervenientes);\n            \n            \n\n            //Passar para dentro do form o valor do proponente que está a ser editado\n            sessionStorage.setItem(\"valor_interveniente\", \"\");\n            sessionStorage.setItem(\"valor_conjugue_select\", \"\");\n            \n            var els = document.getElementsByClassName(\"grid-action-edit\");\n    \n            for(var i = 0, x = els.length; i < x; i++) {\n            \tels[i].onclick = function(){\n            \t\t//console.log('Adicionou função onClick');\n            \t\tconst elemento_linha = $(this).parent().parent().children('td:first').children().children().text();\n            \t\tsessionStorage.setItem(\"valor_interveniente\", elemento_linha);\n            \t\tconst elemento_linha_2 = $(this).parent().parent().children('td:nth-child(5)').children().children().text();\n            \t\tsessionStorage.setItem(\"valor_conjugue_select\", elemento_linha_2);\n            \t}\n            }\n            \n            \n            var botao_adicionar = document.getElementsByClassName(\"grid-action-add\");\n        \n            for(var i = 0, x = botao_adicionar.length; i < x; i++) {\n                botao_adicionar[i].onclick = function(){\n            \t\tsessionStorage.setItem(\"valor_conjugue_select\", \"\");\n            \t}\n            }\n            \n        });\n    });\n\n<\/script>"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "preencherCampoConjugueAutomaticamente",
                            "label": "",
                            "permission_rules": {
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "value": "<script>\r\n    $(document).ready( function(){\r\n        \r\n        //Valor default sessionStorage\r\n        if( sessionStorage.getItem(\"valor_variavel\") == null || sessionStorage.getItem(\"valor_variavel\") == \"NaN\"){\r\n            sessionStorage.setItem(\"valor_variavel\", \"0\");\r\n        }\r\n        \r\n        //console.log(\"SessionStorage fora ready\" + sessionStorage.getItem(\"valor_variavel\"));\r\n\r\n        //Colocar valores da variavel a zero\r\n        var data_linhaEditada = FormUtil.getGridCellValues(\"lista_intervenientes.variavel\");\r\n        \r\n        if(data_linhaEditada.length !== 0){\r\n\r\n            data_linhaEditada.forEach(findIndex);\r\n            \r\n            function findIndex(item, index, arr){\r\n                updateCell(\"lista_intervenientes\", \"variavel\", \"0\", index); //row 2\r\n            }\r\n                    \r\n            function updateCell(fieldid, cellid, value, rowNo) {\r\n                var element = FormUtil.getField(fieldid);\r\n                var row = $(element).find(\"tr.grid-row:eq(\"+(rowNo)+\")\"); //0-based\r\n                var data = $(row).find(\"textarea\").val();\r\n                data = eval(\"[\"+data+\"]\")[0];\r\n    \r\n                data[cellid] = value;\r\n                $(element).enterpriseformgrid(\"fillValue\", element, row, JSON.stringify(data));\r\n            }\r\n\r\n        }\r\n        \r\n        //Ocultar tabela variavel\r\n        $(\"th[id*=intervenientes_lista_intervenientes_variavel]\").hide();\r\n        $(\"span[id*=intervenientes_lista_intervenientes_variavel]\").parent().hide();\r\n        \r\n        //Ocultar tabela tipo interveniente\r\n        $(\"th[id*=intervenientes_lista_intervenientes_tipo_interveniente]\").hide();\r\n        $(\"span[id*=intervenientes_lista_intervenientes_tipo_interveniente]\").parent().hide();\r\n        \r\n        //Ocultar tabela ultimo conjugue\r\n        $(\"th[id*=intervenientes_lista_intervenientes_ultimo_conjugue]\").hide();\r\n        $(\"span[id*=intervenientes_lista_intervenientes_ultimo_conjugue]\").parent().hide();\r\n        \r\n        //Ocultar tabela ultimo autorizante interveniente\r\n        $(\"th[id*=intervenientes_lista_intervenientes_ultimo_autorizante_interveniente]\").hide();\r\n        $(\"span[id*=intervenientes_lista_intervenientes_ultimo_autorizante_interveniente]\").parent().hide();\r\n        \r\n        //Ocultar tabela ultimo procurador interveniente\r\n        $(\"th[id*=intervenientes_lista_intervenientes_ultimo_procurador_interveniente]\").hide();\r\n        $(\"span[id*=intervenientes_lista_intervenientes_ultimo_procurador_interveniente]\").parent().hide();\r\n        \r\n        //Ocultar tabela interprete do\r\n        $(\"th[id*=intervenientes_lista_intervenientes_interprete_do]\").hide();\r\n        $(\"span[id*=intervenientes_lista_intervenientes_interprete_do]\").parent().hide();\r\n            \r\n    });\r\n    \r\n    \r\n    $(window).on('load', function(){\r\n            \r\n        //Formatar interveniente para sem _\r\n        var linha = 0;\r\n        \r\n        $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").each(function(){\r\n            \r\n            var valor = $(this).text().trim();\r\n            var valor_replace = valor.replaceAll(\"_\", \" \");\r\n            //console.log(valor_replace);\r\n            \r\n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\")[linha].innerText = valor_replace;\r\n\t\t\t\r\n\t\t\tlinha++;\r\n\t\t\t\r\n        });\r\n        \r\n        \r\n        //Formatar conjugue para sem _\r\n        var linha2 = 0;\r\n        \r\n        $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_conjugue]\").each(function(){\r\n            \r\n            var valor = $(this).text().trim();\r\n            var valor_replace = valor.replaceAll(\"_\", \" \");\r\n            //console.log(valor_replace);\r\n            \r\n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_conjugue]\")[linha2].innerText = valor_replace;\r\n\t\t\t\r\n\t\t\tlinha2++;\r\n\t\t\t\r\n        });\r\n    });\r\n    \r\n    \r\n    \r\n    //Incrementar Variavel\r\n    $(window).on('load', function(){\r\n        $(document).change(function(){\r\n            \r\n            //Ir buscar informaçao de dentro e preencher o campo\r\n            var campoVariavel = FormUtil.getField(\"variavel_analisar\");\r\n            var valor = sessionStorage.getItem(\"valor_variavel\");\r\n            $(campoVariavel).val(valor); \r\n            \r\n            //Guardar valor do campo para passar para o form de dentro\r\n            var valorVariavel = FormUtil.getValue(\"variavel_analisar\");\r\n            sessionStorage.setItem(\"valor_variavel\", valorVariavel);\r\n            \r\n            \r\n            //Casar automaticamente\r\n            //Descobrir qual a última linha editada \r\n            var data_linhaEditada = FormUtil.getGridCellValues(\"lista_intervenientes.variavel\");\r\n            var maxValue =  0;\r\n            var maxIndex = null;\r\n                \r\n            if(data_linhaEditada.length !== 0){\r\n                \r\n                data_linhaEditada.forEach(findIndex);\r\n                \r\n                function findIndex(item, index, arr){\r\n                    if(item > maxValue){\r\n                        item = parseInt(item);\r\n                        maxIndex = index;\r\n                        maxValue = item;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            //console.log(\"Valor linha editada: \" + maxIndex);\r\n            //console.log(\"MaxValue \" + maxValue);\r\n            //console.log(\"SessionStorage fora change\" + sessionStorage.getItem(\"valor_variavel\"));\r\n            \r\n            if(maxValue == sessionStorage.getItem(\"valor_variavel\")){\r\n                \r\n                if(maxIndex !== null){\r\n    \r\n                    //Consultar o campo código do interveniente e guardar valor\r\n                    var numeroLinhas = 0;\r\n                    var data_Codigo_Array = [];\r\n            \r\n                    $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").each(function(){\r\n                    //$(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_codigo_interveniente]\").each(function(){\r\n                        data_Codigo_Array[numeroLinhas] = $(this).text().trim();\r\n                        data_Codigo_Array[numeroLinhas] = data_Codigo_Array[numeroLinhas].replaceAll(\" \", \"_\");\r\n                        numeroLinhas++;\r\n                    });\r\n                    \r\n                    var nome_Preencher_No_Conjugue = data_Codigo_Array[maxIndex];\r\n                    \r\n                    //console.log(\"Array codigo interveniente: \" + data_Codigo_Array);\r\n                    //console.log(\"Nome a preencher: \" + nome_Preencher_No_Conjugue);\r\n    \r\n                    //Consultar o campo conjugue preenchido e guardar valor\r\n                    var numeroLinhas_2 = 0;\r\n                    var data_Conjuge = [];\r\n                    \r\n                    $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_conjugue]\").each(function(){\r\n                        data_Conjuge[numeroLinhas_2] = $(this).text().trim();\r\n                        numeroLinhas_2++;\r\n                    });\r\n                    \r\n                    var codigoIntervienteProcurar = data_Conjuge[maxIndex];\r\n                    \r\n                    //console.log(\"Array conjugues \" + data_Conjuge);\r\n                    //console.log(\"Interveniente a procurar: \" + data_Conjuge[maxIndex]);\r\n                    \r\n                    if(codigoIntervienteProcurar !== \"\"){\r\n                            \r\n                       //Procurar valor encontrado na coluna do código do interveniente\r\n                        var linha_a_substituir = null;\r\n                        \r\n                        data_Codigo_Array.forEach(findLinhaASubstituir);\r\n                        \r\n                        //console.log(\"Data Código \" + data_Codigo_Array);\r\n                            \r\n                        function findLinhaASubstituir(item, index, arr){\r\n                          if(item === codigoIntervienteProcurar){\r\n                            linha_a_substituir = index;\r\n                          }\r\n                        }\r\n                        \r\n                        //console.log(\"Linha a substituir \" + linha_a_substituir);\r\n                        \r\n                        if(linha_a_substituir !== null){\r\n                            \r\n                            //Fazer o update do valor na célula correta\r\n                            updateCell(\"lista_intervenientes\", \"ultimo_conjugue\", codigoIntervienteProcurar, maxIndex);\r\n                            \r\n                            //console.log(\"Preencheu \" + nome_Preencher_No_Conjugue);\r\n                            //console.log(\"Entrou e preencheu ultimo conjugue \");\r\n                            \r\n                            updateCell(\"lista_intervenientes\", \"conjugue\", nome_Preencher_No_Conjugue, linha_a_substituir);\r\n                            updateCell(\"lista_intervenientes\", \"ultimo_conjugue\", nome_Preencher_No_Conjugue, linha_a_substituir);\r\n    \r\n                            function updateCell(fieldid, cellid, value, rowNo) {\r\n                                var element = FormUtil.getField(fieldid);\r\n                                var row = $(element).find(\"tr.grid-row:eq(\"+(rowNo)+\")\"); //0-based\r\n                                var data = $(row).find(\"textarea\").val();\r\n                                data = eval(\"[\"+data+\"]\")[0];\r\n                    \r\n                                data[cellid] = value;\r\n                                $(element).enterpriseformgrid(\"fillValue\", element, row, JSON.stringify(data));\r\n                               \r\n                            }\r\n                            \r\n                        }\r\n                    \r\n                    }\r\n                }\r\n            }\r\n            \r\n            //Caso a linha seja eliminada  \r\n            var valorConjuge;\r\n            var valorInteverniente;\r\n            var aux_linha = 0;\r\n            var data_colunaCodigo = [];\r\n            \r\n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").each(function(){\r\n            //$(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_codigo_interveniente]\").each(function(){\r\n                data_colunaCodigo[aux_linha] = $(this).text().trim();\r\n                aux_linha++;\r\n            });\r\n            \r\n            //console.log(\"Coluna código Intervenientes \" + data_colunaCodigo);\r\n            \r\n            var flag = 0;\r\n            var aux_2 = 0;\r\n            var linha_a_substituir = null;\r\n            \r\n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_conjugue]\").each(function(){\r\n                valorConjuge = $(this).text().trim();\r\n                valorInterveniente = $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\")[aux_2].innerText;\r\n                \r\n                data_colunaCodigo.forEach(verificarExisteInterveniente);\r\n                \r\n                function verificarExisteInterveniente(item, index, arr){\r\n                  if(item === valorConjuge){\r\n                    flag = 1;\r\n                  }\r\n                }\r\n                \r\n                if(valorConjuge === valorInterveniente){\r\n                    flag = 0;\r\n                }\r\n                \r\n                if(flag == 0){\r\n                    linha_a_substituir = aux_2;\r\n                    //valorConjuge = $(this).text(\"\");\r\n                    if(linha_a_substituir != null){\r\n                      //console.log(\"Linha eliminada\");\r\n                      updateCell(\"lista_intervenientes\", \"conjugue\", \"\", linha_a_substituir);\r\n                      updateCell(\"lista_intervenientes\", \"ultimo_conjugue\", \"\", linha_a_substituir);\r\n                    }\r\n                    \r\n                }\r\n                \r\n                flag = 0;\r\n                aux_2++;\r\n            });\r\n            \r\n            \r\n           var linha_a_iterar = 0;\r\n            \r\n            //Descasar (Colocar valor select box a vazio)\r\n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_conjugue]\").each(function(){\r\n                var valorConjuge = $(this).text().trim();\r\n                var data_ConjugueRespetivo = [];\r\n                var data_Conjuge = [];\r\n                var linha = null;\r\n                var flag_encontrou = 0;\r\n                var aux_3 = 0;\r\n                var aux_4 = 0;\r\n                \r\n                //console.log(\"Valor conjugue:\" + valorConjuge);\r\n                        \r\n                $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_conjugue]\").each(function(){\r\n                    data_Conjuge[aux_3] = $(this).text().trim();\r\n                    aux_3++;\r\n                });\r\n                \r\n                $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").each(function(){\r\n                //$(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=multiPaged_3_intervenientes_lista_intervenientes_codigo_interveniente]\").each(function(){\r\n                    data_ConjugueRespetivo[aux_4] = $(this).text().trim();\r\n                    aux_4++;\r\n                });\r\n                \r\n                //console.log(\"Valor conjugue \" + valorConjuge);\r\n                //console.log(\"Array \" + data_ConjugueRespetivo);\r\n                data_ConjugueRespetivo.forEach(findLinha);\r\n                \r\n                function findLinha(item, index, arr){\r\n                  if(item === valorConjuge){\r\n                    if(valorConjuge !== \"\"){\r\n                        linha = index;\r\n                        flag_encontrou = 1;\r\n                    }\r\n                  }\r\n                }\r\n                \r\n                //console.log(\"Linha a substituir descasar\" + linha_a_iterar);\r\n                \r\n                if(flag_encontrou == 1) {\r\n                    if(data_Conjuge[linha] == \"\"){\r\n                       //console.log(\"Entrou e vai substituir \");\r\n                       //console.log(\"ENTROU CODIGO DESCASAR\");\r\n                       valorConjuge = $(this).text(\"\");\r\n                       updateCell(\"lista_intervenientes\", \"conjugue\", \"\", linha_a_iterar);\r\n                       updateCell(\"lista_intervenientes\", \"ultimo_conjugue\", \"\", linha_a_iterar);\r\n                       //console.log(\"Linha a iterar\" + linha_a_iterar);\r\n                    }\r\n                    \r\n                }\r\n                \r\n                linha_a_iterar++;\r\n                //console.log(\"Linha a iterar for_each \" + linha_a_iterar);\r\n                \r\n            });\r\n            \r\n            \r\n            var data_Conjuge = [];\r\n            \r\n            //Casar com outro quando já casado\r\n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_conjugue]\").each(function(){\r\n                \r\n                var linha = 0;\r\n                var valor_linha = null;\r\n                var posicoes_duplicados = [];\r\n                var valorConjuge = $(this).text().trim();\r\n                var data_ConjugueRespetivo = [];\r\n                var aux_3 = 0;\r\n                var aux_4 = 0;\r\n                var duplicados = 0;\r\n                var interveniente = \"\";\r\n                \r\n                $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_conjugue]\").each(function(){\r\n                    data_Conjuge[aux_3] = $(this).text().trim();\r\n                    aux_3++;\r\n                });\r\n                \r\n                $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").each(function(){\r\n                    data_ConjugueRespetivo[aux_4] = $(this).text().trim();\r\n                    aux_4++;\r\n                });\r\n                \r\n                //Verificar se há intervenientes casados com mais do que 1 (conjugues duplicados)\r\n                data_Conjuge.forEach(hasDuplicates);\r\n                \r\n                function hasDuplicates(item, index, arr) {\r\n                    if(item !== \"\"){\r\n                        if(item === valorConjuge ){\r\n                            posicoes_duplicados.push(index);\r\n                            duplicados++;\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            \r\n                //console.log(\"Duplicados \" + duplicados);\r\n                //console.log(\"Posicoes \" + posicoes_duplicados);\r\n                //console.log(\"Array \" + data_Conjuge);\r\n            \r\n                if(duplicados > 1){\r\n                    \r\n                    posicoes_duplicados.forEach(nome);\r\n                    \r\n                    function nome(item, index, arr) {\r\n                        interveniente = $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\")[item].innerText;\r\n                        \r\n                        if(!data_Conjuge.includes(interveniente)){\r\n                            data_Conjuge[item] = \"\";\r\n\t\t\t\t\t        valorConjuge = $(this).text(\"\");\r\n\t\t\t\t\t        updateCell(\"lista_intervenientes\", \"conjugue\", \"\", item);\r\n\t\t\t\t\t        updateCell(\"lista_intervenientes\", \"ultimo_conjugue\", \"\", item);\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                linha++;\r\n            \r\n            });\r\n            \r\n            \r\n            function updateCell(fieldid, cellid, value, rowNo) {\r\n                var element = FormUtil.getField(fieldid);\r\n                var row = $(element).find(\"tr.grid-row:eq(\"+(rowNo)+\")\"); //0-based\r\n                var data = $(row).find(\"textarea\").val();\r\n                data = eval(\"[\"+data+\"]\")[0];\r\n    \r\n                data[cellid] = value;\r\n                $(element).enterpriseformgrid(\"fillValue\", element, row, JSON.stringify(data));\r\n            }\r\n            \r\n            //Formatar interveniente para sem _\r\n            var linha = 0;\r\n            \r\n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\").each(function(){\r\n                \r\n                var valor = $(this).text().trim();\r\n                var valor_replace = valor.replaceAll(\"_\", \" \");\r\n                //console.log(valor_replace);\r\n                \r\n                $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_ultimo_codigo_interveniente]\")[linha].innerText = valor_replace;\r\n\t\t\t\t\r\n\t\t\t\tlinha++;\r\n\t\t\t\t\r\n            });\r\n            \r\n            \r\n            //Formatar conjugue para sem _\r\n            var linha2 = 0;\r\n            \r\n            $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_conjugue]\").each(function(){\r\n                \r\n                var valor = $(this).text().trim();\r\n                var valor_replace = valor.replaceAll(\"_\", \" \");\r\n                //console.log(valor_replace);\r\n                \r\n                $(\"tr[id*=lista_intervenientes] td span.tablesaw-cell-content span[id*=intervenientes_lista_intervenientes_conjugue]\")[linha2].innerText = valor_replace;\r\n\t\t\t\t\r\n\t\t\t\tlinha2++;\r\n\t\t\t\t\r\n            });\r\n            \r\n        });\r\n    });\r\n    \r\n<\/script>"
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section1",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                    "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                        "permissionHidden": "",
                        "readonly": ""
                    },
                    "25225800-b093-d374-de3c-6bbe183e40ea": {},
                    "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                    "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                    "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                    "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                    "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                    "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                    "af05024d-eace-f30c-cea0-32485ecb7b2a": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                    "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                    "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "compreendem_portugues",
                            "label": "Todos Compreendem a Língua Portuguesa ?",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Sim",
                                    "value": "SIM"
                                },
                                {
                                    "grouping": "",
                                    "label": "Não",
                                    "value": "NAO"
                                },
                                {
                                    "grouping": "",
                                    "label": "Por Validar",
                                    "value": "VAL"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permissionHidden": "",
                            "permission_rules": {
                                "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "3e334771-7c1d-4882-b298-443c91d6bf3e": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                                "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                                "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "readonly": "true",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "",
                                    "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.model.AppDefinition;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.commons.util.LogUtil;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport javax.sql.DataSource;\r\n\r\n  \r\npublic boolean validate(Element element, FormData formData, String[] fileUploadValues) {\r\n    boolean result = true;\r\n     \r\n    //get dropdown select box value\r\n    String field1Id = \"compreendem_portugues\";\r\n    Form form = FormUtil.findRootForm(element);\r\n    Element field1 = FormUtil.findElement(field1Id, form, formData);\r\n    String field1Values = FormUtil.getElementPropertyValue(field1, formData);\r\n    \r\n    String field2Id = \"lista_intervenientes_criada_2\";\r\n    Form form = FormUtil.findRootForm(element);\r\n    Element field2 = FormUtil.findElement(field2Id, form, formData);\r\n    String field2Values = FormUtil.getElementPropertyValue(field2, formData);\r\n        \r\n    if (field1Values.equals(\"nao\") && !field2Values.contains(\"INT\")) {\r\n        \r\n            String id = FormUtil.getElementParameterName(element);\r\n            formData.addFormError(id, \"É necessário inserir um Intérprete\");\r\n            result = false;\r\n    } else {\r\n        //ignore if the dropdown does not exist\r\n    }\r\n  \r\n    return result;\r\n}\r\n  \r\n//call validate method with injected variable\r\nreturn validate(element, formData, values);"
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "intervenientes_acidentais",
                            "label": "Existem Outros Intervenientes Acidentais ?",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Sim",
                                    "value": "SIM"
                                },
                                {
                                    "grouping": "",
                                    "label": "Não",
                                    "value": "NAO"
                                },
                                {
                                    "grouping": "",
                                    "label": "Por Validar",
                                    "value": "VAL"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "3e334771-7c1d-4882-b298-443c91d6bf3e": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                                "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                                "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "venda_pais_filhos",
                            "label": "Trata-se de uma venda de pais/avós a filhos/netos?",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Sim",
                                    "value": "SIM"
                                },
                                {
                                    "grouping": "",
                                    "label": "Não",
                                    "value": "NAO"
                                },
                                {
                                    "grouping": "",
                                    "label": "Por Validar",
                                    "value": "VAL"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "3e334771-7c1d-4882-b298-443c91d6bf3e": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                                "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                                "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "confirma_est_civil",
                            "label": "Houve Alteração do Estado Civil?",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Sim",
                                    "value": "SIM"
                                },
                                {
                                    "grouping": "",
                                    "label": "Não",
                                    "value": "NAO"
                                },
                                {
                                    "grouping": "",
                                    "label": "Por Validar",
                                    "value": "VAL"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "1300a907-31a2-48ed-bf4c-1a7567ccad20": {},
                                "197a8854-1304-fc77-205b-1d8db4b32f50": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                                "25225800-b093-d374-de3c-6bbe183e40ea": {},
                                "3e334771-7c1d-4882-b298-443c91d6bf3e": {},
                                "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                                "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                                "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "973de9e9-e890-860f-035e-b234371b728e": {},
                                "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                                "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                                "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                                "c44d872b-cea6-6a40-8ece-c4160cfe0079": {},
                                "c6f523f5-c981-dd70-ca03-ea8e9a69f2f1": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section4",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "25225800-b093-d374-de3c-6bbe183e40ea": {},
                    "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                    "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                    "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                    "af05024d-eace-f30c-cea0-32485ecb7b2a": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                    "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                    "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.Radio",
                    "properties": {
                        "controlField": "",
                        "id": "temos_assentos",
                        "label": "Temos assentos ?",
                        "options": [
                            {
                                "grouping": "",
                                "label": "Sim",
                                "value": "SIM"
                            },
                            {
                                "grouping": "",
                                "label": "Não",
                                "value": "NAO"
                            },
                            {
                                "grouping": "",
                                "label": "Por Validar",
                                "value": "PAP"
                            }
                        ],
                        "optionsBinder": {
                            "className": "",
                            "properties": {}
                        },
                        "permission_rules": {
                            "1300a907-31a2-48ed-bf4c-1a7567ccad20": {},
                            "197a8854-1304-fc77-205b-1d8db4b32f50": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                            "25225800-b093-d374-de3c-6bbe183e40ea": {},
                            "3e334771-7c1d-4882-b298-443c91d6bf3e": {},
                            "53700863-35b8-fcf7-b5a3-deffa46b2f19": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                            "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "973de9e9-e890-860f-035e-b234371b728e": {},
                            "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                            "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                            "c44d872b-cea6-6a40-8ece-c4160cfe0079": {},
                            "c6f523f5-c981-dd70-ca03-ea8e9a69f2f1": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                        },
                        "readonly": "",
                        "readonlyLabel": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section17",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "1300a907-31a2-48ed-bf4c-1a7567ccad20": {},
                    "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "25225800-b093-d374-de3c-6bbe183e40ea": {},
                    "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                    "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                    "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                        "permissionHidden": "",
                        "readonly": ""
                    },
                    "973de9e9-e890-860f-035e-b234371b728e": {},
                    "af05024d-eace-f30c-cea0-32485ecb7b2a": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                    "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                    "c6f523f5-c981-dd70-ca03-ea8e9a69f2f1": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "confirma_est_civil",
                "visibilityValue": "SIM"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.Radio",
                    "properties": {
                        "controlField": "",
                        "id": "intervencao_juridica",
                        "label": "O processo tem intervenção de Advogado/Solicitador/Outra Profissão Jurídica?",
                        "options": [
                            {
                                "grouping": "",
                                "label": "Sim",
                                "value": "SIM"
                            },
                            {
                                "grouping": "",
                                "label": "Não",
                                "value": "NAO"
                            },
                            {
                                "grouping": "",
                                "label": "Por Validar",
                                "value": "PAP"
                            }
                        ],
                        "optionsBinder": {
                            "className": "",
                            "properties": {}
                        },
                        "permission_rules": {
                            "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                            "25225800-b093-d374-de3c-6bbe183e40ea": {},
                            "53700863-35b8-fcf7-b5a3-deffa46b2f19": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                            "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                            "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                            "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                        },
                        "readonly": "",
                        "readonlyLabel": "",
                        "validator": {
                            "className": "org.joget.apps.form.lib.BeanShellValidator",
                            "properties": {
                                "decoration": "*",
                                "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.commons.util.LogUtil;\r\n  \r\npublic boolean validate(Element element, FormData formData, String[] values){\r\n    \r\n    //Get value from workflow variable\r\n    String flagvalidate = \"#variable.flag_ultima_atividade#\";\r\n    \r\n    boolean result = true;\r\n    \r\n    //Only validate if it is the last activity of the subflow\r\n    if(flagvalidate.equals(\"1\")){\r\n        \r\n        //If element is not filled give error message\r\n        if (values.length <= 0 || values[0].isEmpty() || values[0].equals(\"PAP\")){\r\n            String id = FormUtil.getElementParameterName(element);\r\n            formData.addFormError(id, \"Campo obrigatório\");\r\n            result = false;\r\n        }\r\n    }else{\r\n        result = true;\r\n    }\r\n\r\n    return result;\r\n\r\n}\r\n\r\n//call validate method with injected variable\r\nreturn validate(element, formData, values);"
                            }
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section6",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "25225800-b093-d374-de3c-6bbe183e40ea": {},
                    "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                    "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                    "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                    "af05024d-eace-f30c-cea0-32485ecb7b2a": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                    "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                    "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.Radio",
                    "properties": {
                        "controlField": "",
                        "id": "intervencao_juridica_novo",
                        "label": "Teve intervenção do Novo Projeto?",
                        "options": [
                            {
                                "grouping": "",
                                "label": "Sim",
                                "value": "SIM"
                            },
                            {
                                "grouping": "",
                                "label": "Não",
                                "value": "NAO"
                            },
                            {
                                "grouping": "",
                                "label": "Por Validar",
                                "value": "PAP"
                            }
                        ],
                        "optionsBinder": {
                            "className": "",
                            "properties": {}
                        },
                        "permission_rules": {
                            "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                            "25225800-b093-d374-de3c-6bbe183e40ea": {},
                            "53700863-35b8-fcf7-b5a3-deffa46b2f19": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                            "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                            "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                            "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                        },
                        "readonly": "",
                        "readonlyLabel": "",
                        "validator": {
                            "className": "org.joget.apps.form.lib.BeanShellValidator",
                            "properties": {
                                "decoration": "*",
                                "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.commons.util.LogUtil;\r\n  \r\npublic boolean validate(Element element, FormData formData, String[] values){\r\n    \r\n    //Get value from workflow variable\r\n    String flagvalidate = \"#variable.flag_ultima_atividade#\";\r\n    \r\n    boolean result = true;\r\n    \r\n    //Only validate if it is the last activity of the subflow\r\n    if(flagvalidate.equals(\"1\")){\r\n        \r\n        //If element is not filled give error message\r\n        if (values.length <= 0 || values[0].isEmpty() || values[0].equals(\"PAP\")){\r\n            String id = FormUtil.getElementParameterName(element);\r\n            formData.addFormError(id, \"Campo obrigatório\");\r\n            result = false;\r\n        }\r\n    }else{\r\n        result = true;\r\n    }\r\n\r\n    return result;\r\n\r\n}\r\n\r\n//call validate method with injected variable\r\nreturn validate(element, formData, values);"
                            }
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section7",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "25225800-b093-d374-de3c-6bbe183e40ea": {},
                    "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                    "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                    "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                    "af05024d-eace-f30c-cea0-32485ecb7b2a": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                    "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                    "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "intervencao_juridica",
                "visibilityValue": "SIM"
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.TextArea",
                    "properties": {
                        "cols": "20",
                        "id": "observacoes_intervenientes",
                        "label": "Observações:",
                        "permission_rules": {
                            "084f802c-4c23-abd6-e013-7586e8f8c236": {},
                            "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {},
                            "25225800-b093-d374-de3c-6bbe183e40ea": {},
                            "53700863-35b8-fcf7-b5a3-deffa46b2f19": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c": {},
                            "7360e855-ade7-b218-46ce-7a6b30859aba": {},
                            "7db40e2a-7a44-63df-b173-96ff772099cf": {},
                            "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                            "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "af05024d-eace-f30c-cea0-32485ecb7b2a": {},
                            "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {
                                "permissionHidden": "",
                                "readonly": "true"
                            },
                            "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                            "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                        },
                        "placeholder": "",
                        "readonly": "",
                        "readonlyLabel": "",
                        "rows": "5",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "value": "",
                        "workflowVariable": ""
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section17_1",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "1300a907-31a2-48ed-bf4c-1a7567ccad20": {},
                    "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "25225800-b093-d374-de3c-6bbe183e40ea": {},
                    "53700863-35b8-fcf7-b5a3-deffa46b2f19": {},
                    "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf": {},
                    "950c7e5e-1ed7-1d34-274d-9c2de99e55f5": {},
                    "973de9e9-e890-860f-035e-b234371b728e": {},
                    "af05024d-eace-f30c-cea0-32485ecb7b2a": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "b30c3291-9376-6a3b-a9dd-37d7b0e17f25": {},
                    "b37783e0-ffd8-c58e-c509-b9c47cbfdf36": {},
                    "c6f523f5-c981-dd70-ca03-ea8e9a69f2f1": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "f88c8048-04f7-1389-3bd3-a597abd6714a": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        }
    ],
    "properties": {
        "description": "",
        "id": "intervenientes",
        "loadBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "name": "CH - Intervenientes",
        "noPermissionMessage": "",
        "permission": {
            "className": "",
            "properties": {}
        },
        "permission_rules": [
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_EXT_ENT_NA",
                        "orgId": "PL"
                    }
                },
                "permission_key": "af05024d-eace-f30c-cea0-32485ecb7b2a",
                "permission_name": "Entidade Não-Autónoma"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\nString mode = \"#requestParam._mode#\";\nif(mode.equals(\"edit\")){\n    return true;\n}else{\n    return false;\n}"}
                },
                "permission_key": "b37783e0-ffd8-c58e-c509-b9c47cbfdf36",
                "permission_name": "Consultar"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(fase.equals(\"FLT\")){\n    return true;\n}else{\n    return false;\n}"}
                },
                "permission_key": "950c7e5e-1ed7-1d34-274d-9c2de99e55f5",
                "permission_name": "Filtro"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(fase.equals(\"PRD\")){\n    return true;\n}else{\n    return false;\n}"}
                },
                "permission_key": "53700863-35b8-fcf7-b5a3-deffa46b2f19",
                "permission_name": "Produção"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(fase.equals(\"VAL\")){\n    return true;\n}else{\n    return false;\n}"}
                },
                "permission_key": "b30c3291-9376-6a3b-a9dd-37d7b0e17f25",
                "permission_name": "Validação"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco = \"#form.detalhe_processo.nome_banco[{form.processos.detalhe_processo}]#\";\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(banco.equals(\"BCP\") && fase.equals(\"CNT\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "f88c8048-04f7-1389-3bd3-a597abd6714a",
                "permission_name": "Contratação BCP"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco = \"#form.detalhe_processo.nome_banco[{form.processos.detalhe_processo}]#\";\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(banco.equals(\"NVB\") && fase.equals(\"CNT\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "6544dfca-88f1-e4a4-b8f4-19e9f7c5a72c",
                "permission_name": "Contratação NVB"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco = \"#form.detalhe_processo.nome_banco[{form.processos.detalhe_processo}]#\";\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(banco.equals(\"BST\") && fase.equals(\"CNT\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "7f8e8db0-dcc1-fbab-51b7-91b99d146dbf",
                "permission_name": "Contratação BST"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco = \"#form.detalhe_processo.nome_banco[{form.processos.detalhe_processo}]#\";\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(banco.equals(\"ABN\") && fase.equals(\"CNT\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "084f802c-4c23-abd6-e013-7586e8f8c236",
                "permission_name": "Contratação ABN"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco = \"#form.detalhe_processo.nome_banco[{form.processos.detalhe_processo}]#\";\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(banco.equals(\"BIC\") && fase.equals(\"CNT\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "7db40e2a-7a44-63df-b173-96ff772099cf",
                "permission_name": "Contratação BIC"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco = \"#form.detalhe_processo.nome_banco[{form.processos.detalhe_processo}]#\";\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(banco.equals(\"MTG\") && fase.equals(\"CNT\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "7360e855-ade7-b218-46ce-7a6b30859aba",
                "permission_name": "Contratação MTG"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\n\nString banco = \"#form.detalhe_processo.nome_banco[{form.processos.detalhe_processo}]#\";\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(banco.equals(\"BNI\") && fase.equals(\"CNT\")){\n    return true;\n}else{\n    return false;\n}\n"}
                },
                "permission_key": "25225800-b093-d374-de3c-6bbe183e40ea",
                "permission_name": "Contratação BNI"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.BeanShellPermission",
                    "properties": {"script": "import org.joget.commons.util.LogUtil;\n\nString fase = \"#form.detalhe_processo.fase_processo[{form.processos.detalhe_processo}]#\";\nif(fase.equals(\"AO\")){\n    return true;\n}else{\n    return false;\n}"}
                },
                "permission_key": "1f965d24-e2c9-38b4-d9fc-b449b5cf7d59",
                "permission_name": "Acompanhamento de Outorgas"
            }
        ],
        "postProcessor": {
            "className": "",
            "properties": {}
        },
        "postProcessorRunOn": "create",
        "storeBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "tableName": "interv_processo"
    }
}