{
    "className": "org.joget.apps.form.model.Form",
    "elements": [
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.CustomHTML",
                    "properties": {
                        "autoPopulate": "",
                        "id": "field18",
                        "label": "",
                        "permission_rules": {
                            "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                            "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                            "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                            "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                            "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                            "9d853985-1ae4-3c97-4cca-9de6c3614741": {}
                        },
                        "value": "<div id=\"myErrorMsg\" class=\"alert alert-error\" role=\"alert\" style=\"font-size: 20px; font-weight: bold; color: red;\">\r\n  Existem erros de validação\r\n<\/div>\r\n<style>\r\n#myErrorMsg{\r\n    display:none;\r\n}\r\n<\/style>"
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section2",
                "join": "",
                "label": "",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "093a1241-e305-8c58-bf20-1cefd6a6df94": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                    "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                    "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                    "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                    "9d853985-1ae4-3c97-4cca-9de6c3614741": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "flag_agendado",
                            "permission_rules": {
                                "03c775dc-a743-e094-4e35-cf487b91cef2": {},
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "1fa5eef4-6607-58b1-6a12-e2ed8ae717c9": {},
                                "2f7e0d1d-ee44-6d46-f4bc-434ed5e08f53": {},
                                "4ca43afb-7ca5-9595-7d5e-480f9e1269aa": {},
                                "5173a640-6d7b-ff47-1db9-349049a3ee8f": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "61eed640-2e15-cba4-8522-d7b5ae130f31": {},
                                "6fb83d36-30a3-de4b-f6ee-475a1d3c4ee1": {},
                                "73d59c6e-5d43-9985-020a-1564a2bd69fd": {},
                                "7661310a-7dc3-e855-1d82-7f7bb70319c7": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "7e7faade-f35a-329d-a7a9-b6b63b1bc5b4": {},
                                "8d26fcff-b200-5ba6-a36b-6bf75f33839e": {},
                                "d4230f5d-0b67-d8a3-8845-6d41ad2f225b": {},
                                "d71cd104-0c18-2072-f92d-82b847d18ab5": {},
                                "dd84b73a-a59f-28e2-68ab-489586ddeac1": {},
                                "f05453aa-e857-3dfd-90e1-d657d9b594a5": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "flag_alerta_agendamento",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.HiddenField",
                        "properties": {
                            "id": "flag_alerta_agendamento_swift",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "useDefaultWhenEmpty": "",
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "n_wf_agendamento",
                            "label": "Número WF Agendamento",
                            "maxlength": "",
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "urgencia_agendamento",
                            "label": "Urgência de Agendamento",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Sim",
                                    "value": "SIM"
                                },
                                {
                                    "grouping": "",
                                    "label": "Não",
                                    "value": "NAO"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "distrito",
                            "label": "Distrito",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "",
                                    "formDefId": "distritosConcelhos",
                                    "groupingColumn": "",
                                    "idColumn": "distrito",
                                    "labelColumn": "distrito",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "distrito",
                            "id": "concelho",
                            "label": "Concelho",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "",
                                    "formDefId": "distritosConcelhos",
                                    "groupingColumn": "distrito",
                                    "idColumn": "concelho",
                                    "labelColumn": "concelho",
                                    "useAjax": "true"
                                }
                            },
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "contacto",
                            "label": "Contactar",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Cliente",
                                    "value": "CLT"
                                },
                                {
                                    "grouping": "",
                                    "label": "Balcão",
                                    "value": "BLC"
                                },
                                {
                                    "grouping": "",
                                    "label": "Ambos",
                                    "value": "ABS"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "*",
                                    "script": "return true;"
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "telefone_cliente",
                            "label": "Telefone do Cliente",
                            "maxlength": "",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "*",
                                    "script": "return true;"
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextField",
                        "properties": {
                            "encryption": "",
                            "id": "email_cliente",
                            "label": "Email do Cliente",
                            "maxlength": "",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "storeNumeric": "",
                            "style": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "*",
                                    "script": "return true;"
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "localizacao_imovel",
                            "label": "Localização do Imóvel",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'local_imovel'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "*",
                                    "script": "return true;"
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextArea",
                        "properties": {
                            "cols": "20",
                            "id": "motivo_urgencia_agendamento",
                            "label": "Motivo de Urgência de Agendamento",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "rows": "5",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "",
                                    "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.service.FormUtil;\r\nimport org.joget.commons.util.LogUtil;\r\n  \r\npublic boolean validate(Element element, FormData formData, String[] fileUploadValues) {\r\n    boolean result = true;\r\n     \r\n    //get dropdown select box value\r\n    String field1Id = \"urgencia_agendamento\";\r\n    Form form = FormUtil.findRootForm(element);\r\n    Element field1 = FormUtil.findElement(field1Id, form, formData);\r\n  \r\n    if (field1 != null) {\r\n        //get value of field 1\r\n        String[] field1Values = FormUtil.getElementPropertyValues(field1, formData);\r\n  \r\n        /*if(field1Values[0].equalsIgnoreCase(\"sim\") && fileUploadValues[0].isEmpty() ){*/\r\n        if(field1Values.length != 0 && fileUploadValues.length != 0){\r\n            if(field1Values[0].equalsIgnoreCase(\"sim\")  && fileUploadValues[0].isEmpty()){\r\n                String id = FormUtil.getElementParameterName(element);\r\n                formData.addFormError(id, \"Campo obrigatório quando existe Urgência de Agendamento\");\r\n                result = false;\r\n            }\r\n        }\r\n    } else {\r\n        //ignore if the dropdown does not exist\r\n    }\r\n  \r\n    return result;\r\n}\r\n  \r\n//call validate method with injected variable\r\nreturn validate(element, formData, values);"
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "",
                            "endDateFieldId": "",
                            "format": "dd/mm/yy",
                            "id": "data_pre_agendamento",
                            "label": "Data de Pre-Agendamento",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {
                                    "permissionHidden": "true",
                                    "readonly": ""
                                },
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c+10"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "dateTime",
                            "endDateFieldId": "",
                            "format": "dd/mm/yy",
                            "format24hr": "true",
                            "id": "data_agendamento",
                            "label": "Data de Agendamento",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c+10"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "currentDateAs": "",
                            "dataFormat": "yyyy-MM-dd",
                            "datePickerType": "",
                            "endDateFieldId": "",
                            "format": "",
                            "id": "data_solicitada",
                            "label": "Data Solicitada",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": "",
                            "yearRange": "c-10:c+10"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.DatePicker",
                        "properties": {
                            "allowManual": "",
                            "datePickerType": "timeOnly",
                            "endDateFieldId": "",
                            "format24hr": "true",
                            "id": "hora_solicitada",
                            "label": "Hora Solicitada",
                            "permission_rules": {
                                "03c775dc-a743-e094-4e35-cf487b91cef2": {},
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "1fa5eef4-6607-58b1-6a12-e2ed8ae717c9": {},
                                "2f7e0d1d-ee44-6d46-f4bc-434ed5e08f53": {},
                                "4ca43afb-7ca5-9595-7d5e-480f9e1269aa": {},
                                "5173a640-6d7b-ff47-1db9-349049a3ee8f": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "61eed640-2e15-cba4-8522-d7b5ae130f31": {},
                                "6fb83d36-30a3-de4b-f6ee-475a1d3c4ee1": {},
                                "73d59c6e-5d43-9985-020a-1564a2bd69fd": {},
                                "7661310a-7dc3-e855-1d82-7f7bb70319c7": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "7e7faade-f35a-329d-a7a9-b6b63b1bc5b4": {},
                                "8d26fcff-b200-5ba6-a36b-6bf75f33839e": {},
                                "d4230f5d-0b67-d8a3-8845-6d41ad2f225b": {},
                                "d71cd104-0c18-2072-f92d-82b847d18ab5": {},
                                "dd84b73a-a59f-28e2-68ab-489586ddeac1": {},
                                "f05453aa-e857-3dfd-90e1-d657d9b594a5": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "startDateFieldId": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "estado_agendamento",
                            "label": "Estado de Agendamento",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'estado_agendamento' AND e.customProperties.servico LIKE '%CH%'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.Radio",
                        "properties": {
                            "controlField": "",
                            "id": "reagendamento",
                            "label": "Reagendamento",
                            "options": [
                                {
                                    "grouping": "",
                                    "label": "Sim",
                                    "value": "SIM"
                                },
                                {
                                    "grouping": "",
                                    "label": "Não",
                                    "value": "NAO"
                                },
                                {
                                    "grouping": "",
                                    "label": "Por Validar",
                                    "value": "VAL"
                                }
                            ],
                            "optionsBinder": {
                                "className": "",
                                "properties": {}
                            },
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.SelectBox",
                        "properties": {
                            "controlField": "",
                            "id": "motivo_Reagendamento",
                            "label": "Motivo da Desmarcação",
                            "multiple": "",
                            "options": [],
                            "optionsBinder": {
                                "className": "org.joget.apps.form.lib.FormOptionsBinder",
                                "properties": {
                                    "addEmptyOption": "true",
                                    "cacheInterval": "",
                                    "emptyLabel": "",
                                    "extraCondition": "c_nome_campo = 'motivo_reagendamento'",
                                    "formDefId": "adicionarOpcaoLV",
                                    "groupingColumn": "",
                                    "idColumn": "value",
                                    "labelColumn": "label",
                                    "useAjax": ""
                                }
                            },
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "readonly": "",
                            "readonlyLabel": "",
                            "size": "",
                            "validator": {
                                "className": "org.joget.apps.form.lib.BeanShellValidator",
                                "properties": {
                                    "decoration": "",
                                    "script": "import java.util.Arrays;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport org.joget.apps.form.model.Element;\r\nimport org.joget.apps.form.model.Form;\r\nimport org.joget.apps.form.model.FormData;\r\nimport org.joget.apps.form.service.FormUtil;\r\n  \r\npublic boolean validate(Element element, FormData formData, String[] fileUploadValues) {\r\n    boolean result = true;\r\n     \r\n    //get dropdown select box value\r\n    String field1Id = \"reagendamento\";\r\n    Form form = FormUtil.findRootForm(element);\r\n    Element field1 = FormUtil.findElement(field1Id, form, formData);\r\n  \r\n    if (field1 != null) {\r\n        //get value of field 1\r\n        String[] field1Values = FormUtil.getElementPropertyValues(field1, formData);\r\n        if(field1Values.length != 0 && fileUploadValues.length != 0){\r\n            if(field1Values[0].equalsIgnoreCase(\"sim\") && fileUploadValues[0].isEmpty() ){\r\n                String id = FormUtil.getElementParameterName(element);\r\n                formData.addFormError(id, \"Campo obrigatório quando existe Reagendamento\");\r\n                result = false;\r\n            }\r\n        }\r\n    } else {\r\n        //ignore if the dropdown does not exist\r\n    }\r\n  \r\n    return result;\r\n}\r\n  \r\n//call validate method with injected variable\r\nreturn validate(element, formData, values);"
                                }
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextArea",
                        "properties": {
                            "cols": "20",
                            "id": "observacoes_automaticas",
                            "label": "Observações Automáticas",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                },
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {
                                    "permissionHidden": "",
                                    "readonly": ""
                                }
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "rows": "10",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.TextArea",
                        "properties": {
                            "cols": "20",
                            "id": "observacoes_agendamento",
                            "label": "Observações  Adicionais",
                            "permissionHidden": "",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {
                                    "permissionHidden": "",
                                    "readonly": "true"
                                },
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "placeholder": "",
                            "readonly": "",
                            "readonlyLabel": "",
                            "rows": "10",
                            "validator": {
                                "className": "",
                                "properties": {}
                            },
                            "value": "",
                            "workflowVariable": ""
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field17",
                            "label": "",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {}
                            },
                            "value": "<input id=\"agendar\" type=\"button\" value=\"PEDIR AGENDAMENTO\">"
                        }
                    },
                    {
                        "className": "org.joget.apps.form.lib.CustomHTML",
                        "properties": {
                            "autoPopulate": "",
                            "id": "field12",
                            "label": "",
                            "permission_rules": {
                                "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                                "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                                "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                                "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                                "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                                "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                                "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                                "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                                "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {},
                                "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                                "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                            },
                            "value": "<script>\nvar nWfBanco, banco, emailGestor, outroEmailGestor, complexidade, emailCliente, telefoneCliente, nomeCliente, idCliente, tipoDeProcesso, dataAgendamento, \ndistrito, concelho, contactar, estadoCivil, tipoCliente, nifCliente, obsAutomaticas, obsManuais, endereco, localidade, codigoPostal, pais, localizacaoImovel, flagMultiLocalizacao,\ndataSolicitada, horaSolicitada, nWfPl\n    $(window).load(function(){\n         var flag_validacao = '#variable.flag_validacao#';\n         \n        if(flag_validacao === '1' || flag_validacao.startsWith(\"#variable.flag_validacao\")){\n            $(\"form#processo :input\").change(function(){\n                $(\"input#flag_alteracoes\").attr(\"value\",\"SIM\");    \n            });\n        }\n        \n        \n    });\n    \n    $(document).ready(function(){\n        \n        \n        if($(\"input[id*=flag_agendado]\").val() === '1'){\n            $(\"div[id*=agendamento_informacao_geral]\").hide();\n        }\n        \n        \n        //Esconder botão para avançar atividade\n        $(\"input#assignmentComplete\").remove();\n        \n        //Esconder campos de contacto do cliente\n        $(\"input[id*=telefone_cliente]\").parent().hide();\n        $(\"input[id*=email_cliente]\").parent().hide();\n        //Observações automaticas como readonly\n        $(\"textArea[id*=observacoes_automaticas]\").attr('readonly','readonly');\n        \n        \n        \n        \n        //Dados processo\n        nWfBanco = \"#form.detalhe_processo.n_wf_banco[{form.processos.detalhe_processo}]#\";\n        nWfPl = \"#form.detalhe_processo.n_wf_pl[{form.processos.detalhe_processo}]#\";\n        banco = \"#form.detalhe_processo.nome_banco[{form.processos.detalhe_processo}]#\";\n        emailGestor = \"#form.banco.email_gestor[{form.processos.banco}]#\";\n        outroEmailGestor = \"#form.banco.outro_email_gestor[{form.processos.banco}]#\";\n        complexidade = \"#form.detalhe_processo.complex_processo[{form.processos.detalhe_processo}]#\";\n        tipoDeProcesso = \"#form.detalhe_processo.tipo_processo[{form.processos.detalhe_processo}]#\";\n        dataAgendamento = $(\"input[id*=data_agendamento]\").datepicker({ dateFormat: \"yy-mm-dd\", timeFormat:  \"hh:mm\" }).val();\n        distrito = $(\"select[id*=distrito]\").val();\n        concelho = $(\"select[id*=concelho]\").val();\n        contactar = $(\"div[id*=contacto] input:checked\").val();\n        obsAutomaticas = $(\"textarea[id*=observacoes_automaticas]\").val();\n        obsManuais = $(\"textarea[id*=observacoes_agendamento]\").val();\n        //Cliente Principal\n        emailCliente = \"\";\n        telefoneCliente = \"\";\n        nomeCliente = \"\";\n        idCliente = \"\";\n        tipoCliente = \"\";\n        nifCliente = \"\";\n        estadoCivil = \"\";\n        endereco = \"\";\n        localidade = \"\";\n        codigoPostal = \"\";\n        pais = \"\";\n        localizacaoImovel = \"\";\n        flagMultiLocalizacao = 0;\n        \n        //Esconder localização do Imóvel\n        $(\"select[id*=localizacao_imovel]\").parent().hide();\n        \n        \n        //Caso o NWF Agendamento esteja vazio é assumido o valor do NWF PL\n        if($(\"input[id*=n_wf_agendamento]\").val() === ''){\n            $(\"input[id*=n_wf_agendamento]\").val(nWfPl);\n        }\n        \n        \n        switch(banco){\n            case \"MTG\":\n                emailGestor = \"#form.banco.email_gestor_mtg[{form.processos.banco}]#\";\n                outroEmailGestor = \"#form.banco.outro_email_gestor_mtg[{form.processos.banco}]#\";\n                break;\n            \n            case \"BIC\":\n                emailGestor = \"#form.banco.email_gestor_bic[{form.processos.banco}]#\";\n                outroEmailGestor = \"#form.banco.outro_email_gestor_bic[{form.processos.banco}]#\";\n                break;\n                \n            case \"BST\":\n                emailGestor = \"#form.banco.email_gestor_bst[{form.processos.banco}]#\";\n                outroEmailGestor = \"#form.banco.outro_email_gestor_bst[{form.processos.banco}]#\";\n                break;\n            \n            case \"NVB\":\n                emailGestor = \"#form.banco.email_gestor_nvb[{form.processos.banco}]#\";\n                outroEmailGestor = \"#form.banco.outro_email_gestor_nvb[{form.processos.banco}]#\";\n                break;\n        }\n        \n        if(emailGestor === \"\"){\n            emailGestor = outroEmailGestor;\n        }\n        \n        if(complexidade === \"COM\"){\n            complexidade= \"Complexo\";\n        }else{\n            complexidade=\"Normal\";\n        }\n        \n        \n        //Obter informação do interveniente principal\n        $.ajax({\n            type:\"GET\",\n                url: \"/jw/api/list/listIntervenientesPrincipais?c_id_processo=\" + \"#form.processos.id#\",\n                headers:{\n                    \"api_id\": \"#envVariable.apiIdComunicacaoMediaView#\",\n                    \"api_key\": \"#envVariable.apiKeyComunicacaoMediaView#\",\n                    \"Accept\":\"application/json\",\n                    \"Content-Type\": \"application/json\"\n                },\n                success: function(data){\n                    if(data.total!=undefined && data.total > 0){\n                        idCliente = data.data[0].id;\n                        emailCliente = data.data[0].c_email;\n                        telefoneCliente = data.data[0].c_telefone;\n                        nomeCliente = data.data[0].c_nome;\n                        estadoCivil = data.data[0].c_estado_civil;\n                        tipoCliente = data.data[0].c_interveniente_soc_part;\n                        nifCliente= data.data[0].c_nif;\n                        endereco = data.data[0].c_endereco;\n                        localidade = data.data[0].c_localidade;\n                        codigoPostal = data.data[0].c_codigo_postal;\n                        pais = data.data[0].c_pais;\n                    }\n                    \n                    atualizarObservacoes();\n                    \n                    //Se for para contactar o cliente\n                    if(contactar === 'CLT' || contactar === 'ABS'){\n                        if(emailCliente===''){\n                            $(\"input[id*=email_cliente]\").parent().show();                    \n                        }\n                        if(telefoneCliente === ''){\n                            $(\"input[id*=telefone_cliente]\").parent().show();\n                        }\n                    }\n                }\n        });\n        \n        //Obter localizacao de imoveis\n        $.ajax({\n            type:\"GET\",\n                url: \"/jw/api/list/listImoveis?c_id_processo=\" + \"#form.processos.id#\",\n                headers:{\n                    \"api_id\": \"#envVariable.apiIdComunicacaoMediaView#\",\n                    \"api_key\": \"#envVariable.apiKeyComunicacaoMediaView#\",\n                    \"Accept\":\"application/json\",\n                    \"Content-Type\": \"application/json\"\n                },\n                success: function(data){\n                    if(data.total!=undefined && data.total > 0){\n                        var total = data.total - 1;\n                        var countCOM = 0;\n                        var countACO = 0;\n                        var countMAD = 0;\n                        while(total>=0){\n                            var local = data.data[total].c_local_imovel;\n                            if(local !== ''){\n                                if(local === 'COM'){\n                                    countCOM +=1;\n                                }else if(local === 'ACO'){\n                                    countACO +=1;\n                                }else if(local === 'MAD'){\n                                    countMAD +=1;\n                                }\n                            }\n                            \n                            total-=1;\n                        }\n                        \n                        if((countCOM > 0 && (countACO + countMAD) > 0) || (countACO > 0 && (countCOM + countMAD) > 0 ) || (countMAD > 0 && (countCOM + countACO ) > 0) || (countCOM + countACO + countMAD == 0)){\n                            $(\"select[id*=localizacao_imovel]\").parent().show();\n                            flagMultiLocalizacao = 1;\n                        }else{\n                            localizacaoImovel = local;\n                        }\n                    }\n                }\n        });\n        \n        \n        \n        //Se a data de agendamento sofrer alterações atualiza os valores na textarea\n        $(\"input[id*=data_agendamento]\").on('change', function(){\n            dataAgendamento = $(\"input[id*=data_agendamento]\").datepicker({ dateFormat: \"yy-mm-dd\", timeFormat:  \"hh:mm\" }).val();\n            atualizarObservacoes();\n        });\n        \n        //Se o distrito sofrer alterações atualiza os valores na textarea\n        $(\"select[id*=distrito]\").on('change', function(){\n            distrito = $(\"select[id*=distrito]\").val();\n            atualizarObservacoes();\n        });\n        \n        //Se concelho sofrer alterações atualiza os valores na textarea\n        $(\"select[id*=concelho]\").on('change', function(){\n            concelho = $(\"select[id*=concelho]\").val();\n             atualizarObservacoes();\n        });\n        \n        $(\"select[id*=localizacao_imovel]\").change(function(){\n           localizacaoImovel = $(\"select[id*=localizacao_imovel]\").val(); \n        });\n        \n        \n        //Se o contacto sofrer alterações verificar se of campos de contacto estão preencidos\n        $(\"div[id*=contacto] input\").on('change', function(){\n            contactar = $(\"div[id*=contacto] input:checked\").val();  \n            if(contactar === 'BLC'){\n                $(\"div[id*=contacto]\").css(\"border\", \"none\");\n                $(\"input[id*=telefone_cliente]\").parent().hide();\n                $(\"input[id*=email_cliente]\").parent().hide();\n            }else if(contactar === 'CLT' || contactar === 'ABS' ){\n                $(\"div[id*=contacto]\").css(\"border\", \"none\");\n                if(telefoneCliente == null || telefoneCliente === ''){\n                    $(\"input[id*=telefone_cliente]\").parent().show();    \n                }\n                \n                if(emailCliente == null || emailCliente === ''){\n                    $(\"input[id*=email_cliente]\").parent().show();\n                }\n            }else{\n                $(\"input[id*=telefone_cliente]\").parent().hide();\n                $(\"input[id*=email_cliente]\").parent().hide();\n            }\n            \n        });\n        \n        \n            \n        $(\"input#agendar\").click(function(){\n            \n            \n            //Validar localização\n            var validLocalizacao = validateLocalizacao();\n            \n            //Validar contacto do cliente\n            if(contactar === 'CLT' || contactar === 'ABS'){\n                var validEmailCliente = true;\n                \n                //Se o cliente não tiver email, validar o email inserido no campo e atualizar variável\n                if(emailCliente == null || emailCliente === ''){\n                    validEmailCliente = validateEmail();\n                    emailCliente = $(\"input[id*=email_cliente]\").val();\n                }\n                \n                //Se o cliente não tiver telefone, validar telefone inserido no campo e atualizar variável\n                var validTelefoneCliente = true;\n                if(telefoneCliente == null || telefoneCliente === ''){\n                    validTelefoneCliente = validateTelefone();\n                    telefoneCliente = $(\"input[id*=telefone_cliente]\").val();\n                }\n                \n               \n\n                \n                if(validEmailCliente && validTelefoneCliente && validLocalizacao){\n                    \n                    //Atualizar dados do Cliente   \n                    $.ajax({\n                        type:\"POST\",\n                        url: \"/jw/api/form/interveniente/saveOrUpdate\",\n                        headers:{\n                            \"api_id\": \"#envVariable.apiIdAtualizarCampos#\",\n                            \"api_key\": \"#envVariable.apiKeyAtualizarCampos#\",\n                            \"accept\":\"application/json\",\n                            \"Content-Type\": \"application/json\"\n                        },\n                        data: JSON.stringify({\n                                        \"id\": idCliente,\n                                        \"email\": emailCliente,\n                                        \"telefone\": telefoneCliente,\n                                        \"estado_civil\": estadoCivil  //Por razões desconhecidas só funciona se atualizar o estado civil\n                                    }),\n                        success: function(data){\n                            atualizarObservacoes();\n                            //Esconder campos de contacto do cliente\n                            $(\"input[id*=telefone_cliente]\").parent().hide();\n                            $(\"input[id*=email_cliente]\").parent().hide();\n                            //pedirAgendamento();\n                            dataSolicitada = $(\"input[id*=data_solicitada]\").val();\n                            horaSolicitada = $(\"input[id*=hora_solicitada]\").val();\n                            criarAto();\n                            atualizarAgendamento();\n                            location.reload();\n      \n                            \n                        }\n                    });\n                    \n          \n                }\n            }else if(contactar === 'BLC' && validLocalizacao){\n                //pedirAgendamento();\n                criarAto();\n                atualizarAgendamento();\n                location.reload();\n            }else if(contactar == undefined || contactar === ''){\n                $(\"div[id*=contacto]\").css(\"border\", \"1px solid red\");\n                \n            }\n        });\n     \n    });\n    \n    \n    $(document).change(function(){\n        var status = FormUtil.getValues(\"atos.status\");\n        var flagAGN = false;\n        flagDesmarcado = false;\n        \n        \n        if(status.length>0){\n            //Se existir atos Desmarcados\n            if(status[status.length-1].indexOf('DES') !== -1){\n                flagDesmarcado = true;\n            }\n        }\n        \n            //Caso não existam atos desmarcados ou não haja nenhum pedido de agendamento\n            if(!flagDesmarcado || $(\"input[id*=flag_agendado]\").val() === '0'){\n                $(\"div[id*=mensagemAgendamento]\").hide();\n            }else{\n                $(\"div[id*=mensagemAgendamento]\").show();\n            }\n \n        \n    });\n    \n    function atualizarObservacoes(){\n        $(\"textarea[id*=observacoes_automaticas]\").val(\"Nome Cliente - \" + nomeCliente + \"\\n\" + \"Número Processo - \" + nWfPl + \"\\n\" + \"Data Agendamento - \" + dataAgendamento \n                    + \"\\n\" + \"Local - \" + \"\\n\" +\"    Distrito: \" + distrito + \"\\n\" + \"    Concelho: \" + concelho + \"\\n\" + \"Telefone - \" + telefoneCliente\n                    + \"\\n\" + \"Email - \" + emailCliente + \"\\n\" + \"Email Gestor - \" + emailGestor + \"\\n\" + \"Tipo de Processo - \" + tipoDeProcesso + \"\\n\" + \"Complexidade - \" + complexidade);\n    }\n  \n    \n    function validateEmail(){\n        var email = $(\"input[id*=email_cliente]\").val();\n        var emailRegex = /^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/;\n        var result = false;\n        if(email !== ''){\n            result = emailRegex.test(email);\n            if(result==false){\n                $(\"input[id*=email_cliente]\").css(\"border\", \"1px solid red\");\n                $('#myErrorMsg').fadeIn('fast');           \n                $.unblockUI();\n            }\n        }else{\n            $(\"input[id*=email_cliente]\").css(\"border\", \"1px solid red\");\n            $(\"input[id*=email_cliente]\").attr('placeholder', \"CAMPO OBRIGATÓRIO\");\n        }\n         \n        return result;\n    }\n    \n    function validateTelefone(){\n        var telefone = $(\"input[id*=telefone_cliente]\").val();\n        var telefoneRegex = /^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$/;\n        var result = false;\n        if(telefone !== ''){\n            result = telefoneRegex.test(telefone);   \n            if(result==false){\n                $(\"input[id*=telefone_cliente]\").css(\"border\", \"1px solid red\");\n                $('#myErrorMsg').fadeIn('fast');           \n                $.unblockUI();\n            }\n        }else{\n            $(\"input[id*=telefone_cliente]\").css(\"border\", \"1px solid red\");\n            $(\"input[id*=telefone_cliente]\").attr('placeholder', \"CAMPO OBRIGATÓRIO\");\n            \n        }\n        return result;\n    }\n    \n    function validateLocalizacao(){\n        if(flagMultiLocalizacao === 1 ){\n            if($(\"select[id*=localizacao_imovel]\").val() === ''){\n                $(\"select[id*=localizacao_imovel]\").css(\"border\", \"1px solid red\");\n                $('#myErrorMsg').fadeIn('fast');           \n                $.unblockUI();\n                return false;\n            }else{\n                localizacaoImovel = $(\"select[id*=localizacao_imovel]\").val();\n                return true;\n            } \n        }else{\n            return true;\n        }\n    }\n    \n    function pedirAgendamento(){\n        //Validação e tratamento de campos a enviar\n        \n        //Banco\n        var bancoMediaView = \"\";\n        switch(banco){\n            case \"BCP\":\n                bancoMediaView = \"BCP\";\n                break;\n            case \"MTG\":\n                bancoMediaView = \"MPG\";\n                break;\n            case \"BIC\":\n                bancoMediaView = \"BIC\";\n                break;\n            case \"NVB\":\n                bancoMediaView = \"NB\";\n                break;\n            case \"BST\":\n                bancoMediaView = \"BST\";\n                break;\n            case \"ABN\":\n                bancoMediaView = \"Abanca\";\n                break;\n            case \"GEN\":\n                bancoMediaView = \"BCP\";\n                break;\n            default:\n                bancoMediaView = \"BCP\";\n                break;\n        }\n        \n        //TipoCliente\n        if(tipoCliente === 'particular'){\n            tipoCliente = \"Particular\";\n        }else if(tipoCliente === 'sociedade'){\n            tipoCliente = \"Empresa\";\n        }else{\n            tipoCliente = \"Particular\";\n        }\n        \n        //Data indicativa Agendamento\n        dataAgendamento = $(\"input[id*=data_agendamento]\").datepicker({ dateFormat: \"yy-mm-dd\", timeFormat:  \"hh:mm\" }).val();\n        dataAgendamento = dataAgendamento.substring(6,10) + \"-\" + dataAgendamento.substring(3,5) + \"-\" + dataAgendamento.substring(0,2) + \"T\" + dataAgendamento.substring(11,16) + \":00\";                        console.log(dataAgendamento);\n        //Observações\n        var observacoes = obsAutomaticas + \"____________________________________________________________\\n\" + obsManuais; \n        \n        \n        if(endereco.trim() === ''){\n            endereco = \"N/A\";\n        }\n        if(localidade.trim() === ''){\n            localidade = \"N/A\";\n        }\n        if(codigoPostal.trim() === ''){\n            codigoPostal = \"N/A\";\n        }\n        \n        console.log(localizacaoImovel);\n        switch(localizacaoImovel){\n            case \"COM\":\n                localizacaoImovel = \"1\";\n                break;\n            case \"ACO\":\n                localizacaoImovel = \"2\";\n                break;\n            case \"MAD\":\n                localizacaoImovel = \"3\";\n                break;\n            default:\n                localizacaoImovel = \"\";\n                break;\n        }\n        \n        \n        \n        console.log(\"ID Cliente - \" + idCliente);\n        console.log(\"Nome Cliente - \" + nomeCliente);\n        console.log(\"Tipo Cliente - \" + tipoCliente);\n        console.log(\"NIF Cliente - \" + nifCliente);\n        console.log(\"Estado Civil - \" + estadoCivil);\n        console.log(\"Endereco - \" + endereco);\n        console.log(\"Localidade - \" + localidade);\n        console.log(\"Codigo Postal - \" + codigoPostal);\n        console.log(\"Pais - \" + pais);\n        console.log(\"Número Processo - \" + nWfPl);\n        console.log(\"Data Agendamento - \" + dataAgendamento);\n        console.log(\"Local - Distrito: \" + distrito + \" Concelho: \" + concelho);\n        console.log(\"Telefone - \" + telefoneCliente);\n        console.log(\"Email - \" + emailCliente);\n        console.log(\"Email Gestor - \" + emailGestor);\n        console.log(\"Tipo de Processo - \" + tipoDeProcesso);\n        console.log(\"Complexidade - \" + complexidade);\n        console.log(\"Localizacao Imovel\" + localizacaoImovel)\n        \n        \n        \n        //Pedir Agendamento\n        var username = \"#envVariable.apiMediaViewUsername#\";\n        var password = \"#envVariable.apiMediaViewPassword#\";\n        \n        var xmlhttp = new XMLHttpRequest();\n        //xmlhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded; charset=ISO-8859-1');\n        \n        xmlhttp.open('POST', 'https://www.plataformalegal.pt/qualdesign/rpts/workflow.asmx?wsdl', true);\n        xmlhttp.setRequestHeader('Content-Type', 'text/xml; charset=UTF-8');\n        xmlhttp.onreadystatechange = function () {\n            if (xmlhttp.readyState == 4) {\n                if (xmlhttp.status == 200) {\n                    var xmlResponse = $.parseXML(xmlhttp.responseText);\n                    var result = $(xmlResponse).find(\"EnviarProcessoResult\").text();\n                    console.log(xmlResponse);\n                    console.log(result);\n                }\n            }\n        }\n        //+tipoDeProcesso\n\n        \n        \n       var sr= `<?xml version=\"1.0\" encoding=\"utf-8\"?>\n                <soap:Envelope xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n                  <soap:Header>\n                    <Header xmlns=\"http://tempuri.org/\">\n                      <Username>`+username+`<\/Username>\n                      <Password>`+password+`<\/Password>\n                    <\/Header>\n                  <\/soap:Header>\n                  <soap:Body>\n                    <EnviarProcesso xmlns=\"http://tempuri.org/\">\n                      <processo>\n                        <IdRegisto>12345678910<\/IdRegisto>\n                        <NWF>`+nWfPl+`<\/NWF>\n                        <Banco>`+bancoMediaView+`<\/Banco>\n                        <IdTipoContrato>41<\/IdTipoContrato>\n                        <Distrito>`+distrito+`<\/Distrito>\n                        <Concelho>`+concelho+`<\/Concelho>\n                        <Localizacao>`+localizacaoImovel+`<\/Localizacao>\n                        <Proponentes>\n                          <Proponente>\n                            <Tipo>`+tipoCliente+`<\/Tipo>\n                            <Nome>`+nomeCliente+`<\/Nome>\n                            <NIF>`+nifCliente+`<\/NIF>\n                            <Pais>`+pais+`<\/Pais>\n                            <Morada>\n                            <Endereco>`+endereco+`<\/Endereco>\n                            <Localidade>`+localidade+`<\/Localidade>\n                            <CodigoPostal>`+codigoPostal+`<\/CodigoPostal>\n                            <CodPostalLoc>`+localidade+`<\/CodPostalLoc>\n                            <\/Morada>\n                            <Email>`+emailCliente+`<\/Email>\n                            <Telemovel>`+telefoneCliente+`<\/Telemovel>\n                          <\/Proponente>\n                        <\/Proponentes>\n                        <DataIndicativa>`+dataAgendamento+`<\/DataIndicativa>\n                        <Observacoes>`+observacoes+`<\/Observacoes>\n                      <\/processo>\n                    <\/EnviarProcesso>\n                  <\/soap:Body>\n                <\/soap:Envelope>`;\n            console.log(sr);\n        xmlhttp.send(sr);\n        \n        \n        //Falta atualizar os dados do agendamento\n        //Falta ir buscar a localizacao do imovel\n        //Falta fazer o mapeamento para o tipo de contrato\n    }\n    \n    function criarAto(){\n        contactar = $(\"div[id*=contacto] input:checked\").parent().text().trim();\n        $.ajax({\n            type:\"POST\",\n            url: \"/jw/api/form/atos\",\n            headers:{\n                \"api_id\": \"#envVariable.apiIdComunicacaoMediaView#\",\n                \"api_key\": \"#envVariable.apiKeyComunicacaoMediaView#\",\n                \"Accept\":\"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            data: JSON.stringify({\n                            \"id_processo\": \"#form.processos.id#\",\n                            \"id_agendamento\": \"#form.processos.agendamento#\",\n                            \"urgencia\": 'SIM',\n                            \"data_solicitada\": dataSolicitada,\n                            \"hora_solicitada\": horaSolicitada,\n                            \"distrito\": distrito,\n                            \"concelho\": concelho,\n                            \"observacoes_agendamento\":obsAutomaticas,\n                            \"status\": \"AGN\",\n                            \"contactar\": contactar\n                        }),\n            success: function(response){\n\n                var id = response.id;\n                \n                console.log(id);\n                \n                \n            }\n        });\n    }\n    \n    function atualizarAgendamento(){\n        $.ajax({\n            type:\"POST\",\n            url: \"/jw/api/form/agendamento/saveOrUpdate\",\n            headers:{\n                \"api_id\": \"#envVariable.apiIdComunicacaoMediaView#\",\n                \"api_key\": \"#envVariable.apiKeyComunicacaoMediaView#\",\n                \"accept\":\"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            data: JSON.stringify({\n                            \"id\": \"#form.processos.agendamento#\",\n                            \"flag_agendado\": \"1\"\n                        }),\n            success: function(data){\n                \n            }\n        });\n        \n        \n        \n    }\n    \n    \n    \n<\/script>"
                        }
                    }
                ],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "informacao_geral",
                "join": "",
                "label": "Informação Geral",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "093a1241-e305-8c58-bf20-1cefd6a6df94": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "0e7617d8-1161-e5f1-6cc4-902cedbaaa54": {},
                    "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                    "581aec98-64de-cb6e-5a07-27c7d1e550ba": {},
                    "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09": {},
                    "5d138c56-1736-dff2-b7d8-c8667858776c": {},
                    "7d10cf1b-4a43-744c-57ae-b2442baee17c": {},
                    "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                    "8f7b8a9d-4999-7784-7a33-918d09fbdc0d": {},
                    "9d853985-1ae4-3c97-4cca-9de6c3614741": {},
                    "c1ad5abb-3437-3755-3fac-bbbe4c8ed572": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.apps.form.lib.CustomHTML",
                    "properties": {
                        "autoPopulate": "",
                        "id": "field8",
                        "label": "",
                        "permission_rules": {
                            "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                            "1fa5eef4-6607-58b1-6a12-e2ed8ae717c9": {},
                            "4ca43afb-7ca5-9595-7d5e-480f9e1269aa": {},
                            "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                            "6fb83d36-30a3-de4b-f6ee-475a1d3c4ee1": {},
                            "73d59c6e-5d43-9985-020a-1564a2bd69fd": {},
                            "7661310a-7dc3-e855-1d82-7f7bb70319c7": {},
                            "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                            "8d26fcff-b200-5ba6-a36b-6bf75f33839e": {},
                            "d71cd104-0c18-2072-f92d-82b847d18ab5": {},
                            "f05453aa-e857-3dfd-90e1-d657d9b594a5": {}
                        },
                        "value": "<script>\n$(document).ready(function(){\n    \n    $(\"input#novoagendamento\").click(function(){\n        resetEstadoAgendamento();\n    });\n    \n    \n});\n\nfunction resetEstadoAgendamento(){\n            $.ajax({\n                type:\"POST\",\n                url: \"/jw/api/form/agendamento/saveOrUpdate\",\n                headers:{\n                    \"api_id\": \"#envVariable.apiIdComunicacaoMediaView#\",\n                    \"api_key\": \"#envVariable.apiKeyComunicacaoMediaView#\",\n                    \"accept\":\"application/json\",\n                    \"Content-Type\": \"application/json\"\n                },\n                data: JSON.stringify({\n                                \"id\": \"#form.processos.agendamento#\",\n                                \"flag_agendado\": \"0\"\n                            }),\n                success: function(data){\n                    var idAtos = FormUtil.getValues(\"atos.id\");\n                    if(idAtos.length>0){\n                        //Guardar campos de Ato que são editáveis\n                        var motivoDesmarcacao = FormUtil.getValues(\"atos.motivo_desmarcacao\");\n                        var status = FormUtil.getValues(\"atos.status\");\n                        \n                        for(i=0; i<idAtos.length; i++){\n                            console.log(idAtos[i]);\n                            updateAto(idAtos[i], status[i]);\n                        }\n                    }\n                    location.reload();\n                }\n            });\n}\n\nfunction updateAto(id, status){\n    \n    $.ajax({\n        type:\"POST\",\n        url: \"/jw/api/form/atos/saveOrUpdate\",\n        headers:{\n            \"api_id\": \"#envVariable.apiIdComunicacaoMediaView#\",\n            \"api_key\": \"#envVariable.apiKeyComunicacaoMediaView#\",\n            \"Accept\":\"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        data: JSON.stringify({\n                        \"id\": id,\n                        \"status\": status\n                    }),\n        success: function(response){\n            \n        }\n    });\n    \n    \n    \n    \n}\n    \n<\/script>\n<input id=\"novoagendamento\" type=\"button\" value=\"PEDIR NOVO AGENDAMENTO\">"
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "mensagemAgendamento",
                "join": "",
                "label": "Agendamento",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "093a1241-e305-8c58-bf20-1cefd6a6df94": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                    "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        },
        {
            "className": "org.joget.apps.form.model.Section",
            "elements": [{
                "className": "org.joget.apps.form.model.Column",
                "elements": [{
                    "className": "org.joget.plugin.enterprise.FormGrid",
                    "properties": {
                        "abortRelatedRunningProcesses": "",
                        "deleteFiles": "",
                        "deleteGridData": "",
                        "deleteMessage": "Delete row?",
                        "deleteSubformData": "",
                        "disabledAdd": "true",
                        "disabledDelete": "true",
                        "enableSorting": "",
                        "errorMessage": "Invalid number of rows",
                        "formDefId": "atos",
                        "height": "85%",
                        "id": "atos",
                        "label": "Atos",
                        "loadBinder": {
                            "className": "org.joget.plugin.enterprise.MultirowFormBinder",
                            "properties": {
                                "foreignKey": "id_agendamento",
                                "formDefId": "atos"
                            }
                        },
                        "options": [
                            {
                                "format": "opcoesDisplayGrid",
                                "formatType": "options",
                                "label": "Status",
                                "value": "status",
                                "width": ""
                            },
                            {
                                "format": "",
                                "formatType": "text",
                                "label": "Data Outorga",
                                "value": "dataOutorga",
                                "width": ""
                            },
                            {
                                "format": "",
                                "formatType": "text",
                                "label": "Hora Outorga",
                                "value": "horaOutorga",
                                "width": ""
                            }
                        ],
                        "pageSize": "20",
                        "permissionHidden": "",
                        "permission_rules": {
                            "093a1241-e305-8c58-bf20-1cefd6a6df94": {},
                            "1fa5eef4-6607-58b1-6a12-e2ed8ae717c9": {},
                            "4ca43afb-7ca5-9595-7d5e-480f9e1269aa": {},
                            "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                            "6fb83d36-30a3-de4b-f6ee-475a1d3c4ee1": {},
                            "73d59c6e-5d43-9985-020a-1564a2bd69fd": {},
                            "7661310a-7dc3-e855-1d82-7f7bb70319c7": {},
                            "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {},
                            "8d26fcff-b200-5ba6-a36b-6bf75f33839e": {},
                            "d71cd104-0c18-2072-f92d-82b847d18ab5": {},
                            "f05453aa-e857-3dfd-90e1-d657d9b594a5": {}
                        },
                        "readonly": "",
                        "readonlyLabel": "",
                        "showRowNumber": "",
                        "storeBinder": {
                            "className": "org.joget.plugin.enterprise.MultirowFormBinder",
                            "properties": {
                                "foreignKey": "id_agendamento",
                                "formDefId": "atos"
                            }
                        },
                        "submit-label-normal": "",
                        "submit-label-readonly": "",
                        "uniqueKey": "",
                        "validateMaxRow": "",
                        "validateMinRow": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "width": "85%"
                    }
                }],
                "properties": {"width": "100%"}
            }],
            "properties": {
                "comment": "",
                "id": "section4",
                "join": "",
                "label": "Atos",
                "loadBinder": {
                    "className": "",
                    "properties": {}
                },
                "permission": {
                    "className": "",
                    "properties": {}
                },
                "permissionReadonly": "",
                "permission_rules": {
                    "093a1241-e305-8c58-bf20-1cefd6a6df94": {
                        "permissionHidden": "",
                        "readonly": "true"
                    },
                    "570533e0-cbb7-f32b-9695-a8e9d2370a33": {},
                    "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8": {}
                },
                "readonly": "",
                "readonlyLabel": "",
                "regex": "",
                "reverse": "",
                "storeBinder": {
                    "className": "",
                    "properties": {}
                },
                "visibilityControl": "",
                "visibilityValue": ""
            }
        }
    ],
    "properties": {
        "description": "",
        "id": "agendamento",
        "loadBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "name": "CH - Agendamento",
        "noPermissionMessage": "",
        "permission": {
            "className": "",
            "properties": {}
        },
        "permission_rules": [
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_CNT_BIC_COM_CRH;PL_INT_CNT_BIC_NOR_CRH",
                        "orgId": ""
                    }
                },
                "permission_key": "570533e0-cbb7-f32b-9695-a8e9d2370a33",
                "permission_name": "Contratação BIC"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_CNT_ABN_COM_CRH;PL_INT_CNT_ABN_NOR_CRH",
                        "orgId": ""
                    }
                },
                "permission_key": "0e7617d8-1161-e5f1-6cc4-902cedbaaa54",
                "permission_name": "Contratação ABN"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_CNT_BCP_COM_CRH;PL_INT_CNT_BCP_NOR_CRH",
                        "orgId": ""
                    }
                },
                "permission_key": "9d853985-1ae4-3c97-4cca-9de6c3614741",
                "permission_name": "Contratação BCP"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_CNT_BST_COM_CRH;PL_INT_CNT_BST_NOR_CRH",
                        "orgId": ""
                    }
                },
                "permission_key": "581aec98-64de-cb6e-5a07-27c7d1e550ba",
                "permission_name": "Contratação BST"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_CNT_NVB_COM_CRH;PL_INT_CNT_NVB_NOR_CRH",
                        "orgId": ""
                    }
                },
                "permission_key": "7d10cf1b-4a43-744c-57ae-b2442baee17c",
                "permission_name": "Contratação NVB"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_CNT_MTG_COM_CRH;PL_INT_CNT_MTG_NOR_CRH",
                        "orgId": ""
                    }
                },
                "permission_key": "5b2fae9f-2c09-fec1-c2ae-b82fc5ab6d09",
                "permission_name": "Contratação MTG"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_CNT_BNI_NOR_CRH",
                        "orgId": "PL"
                    }
                },
                "permission_key": "7dcda20a-eb2d-d47b-aa3c-1decb7a775a8",
                "permission_name": "Contratação BNI"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_FLT_GEN_COM_CRH;PL_INT_FLT_GEN_NOR_CRH",
                        "orgId": ""
                    }
                },
                "permission_key": "8f7b8a9d-4999-7784-7a33-918d09fbdc0d",
                "permission_name": "Filtro"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_PRD_GEN_COM_CRH;PL_INT_PRD_GEN_NOR_CRH;PL_INT_PRD_GEN_RPA_CRH",
                        "orgId": ""
                    }
                },
                "permission_key": "5d138c56-1736-dff2-b7d8-c8667858776c",
                "permission_name": "Produção"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_VAL_BCP_COM_CRH;PL_INT_VAL_BCP_NOR_CRH;PL_INT_VAL_BNI_COM_CRH;PL_INT_VAL_BNI_NOR_CRH;PL_INT_VAL_BST_COM_CRH;PL_INT_VAL_BST_NOR_CRH;PL_INT_VAL_GEN_COM_CRH;PL_INT_VAL_GEN_NOR_CRH",
                        "orgId": ""
                    }
                },
                "permission_key": "c1ad5abb-3437-3755-3fac-bbbe4c8ed572",
                "permission_name": "Validação"
            },
            {
                "permission": {
                    "className": "org.joget.apps.userview.lib.DepartmentPermission",
                    "properties": {
                        "allowedDeptIds": "PL_INT_AO",
                        "orgId": "PL"
                    }
                },
                "permission_key": "093a1241-e305-8c58-bf20-1cefd6a6df94",
                "permission_name": "Acompanhamento de Outorgas"
            }
        ],
        "postProcessor": {
            "className": "",
            "properties": {}
        },
        "postProcessorRunOn": "create",
        "storeBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "tableName": "agendamento"
    }
}