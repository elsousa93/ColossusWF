<appDefinition>
   <id>workflowPL</id>
   <version></version>
   <name>PL - Workflow</name>
   <packageDefinitionList>
      <packageDefinition>
         <appId>workflowPL</appId>
         <id>workflowPL</id>
         <name>PL - Workflow</name>
         <packageActivityFormMap>
            <entry>
               <string>CHContratacaoComplexo::validacaoBancariaNB</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoBancariaNB</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoNB</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoNB</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoMinutas</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoMinutas</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoBancariaLegalBIC</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoBancariaLegalBIC</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>poll_email::terminate</string>
               <packageActivityForm>
                  <processDefId>poll_email</processDefId>
                  <activityDefId>terminate</activityDefId>
                  <formId>terminate_listener</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::emissaoMinutas</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>emissaoMinutas</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHProducaoComplexo::processamentoManualMinuta</string>
               <packageActivityForm>
                  <processDefId>CHProducaoComplexo</processDefId>
                  <activityDefId>processamentoManualMinuta</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoNB</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoNB</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::emissaoMinutas</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>emissaoMinutas</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoBancariaLegalBST</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoBancariaLegalBST</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>diligencias::runProcess</string>
               <packageActivityForm>
                  <processDefId>diligencias</processDefId>
                  <activityDefId>runProcess</activityDefId>
                  <formId>pedirEsclarecimento</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>diligencias::resolverDiligencia1</string>
               <packageActivityForm>
                  <processDefId>diligencias</processDefId>
                  <activityDefId>resolverDiligencia1</activityDefId>
                  <formId>esclarecer</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>diligencias::resolverDiligencia2</string>
               <packageActivityForm>
                  <processDefId>diligencias</processDefId>
                  <activityDefId>resolverDiligencia2</activityDefId>
                  <formId>D3ResolverDiligencia</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::emissaoCarta</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>emissaoCarta</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHProducaoComplexo::processamentoRobotMinuta</string>
               <packageActivityForm>
                  <processDefId>CHProducaoComplexo</processDefId>
                  <activityDefId>processamentoRobotMinuta</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHFiltroComplexo::analiseDocumental</string>
               <packageActivityForm>
                  <processDefId>CHFiltroComplexo</processDefId>
                  <activityDefId>analiseDocumental</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoDespacho</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoDespacho</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoBIC</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoBIC</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::emissaoCarta</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>emissaoCarta</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoBIC</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoBIC</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoBancariaNB</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoBancariaNB</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoBancariaLegalGEN</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoBancariaLegalGEN</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoBST</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoBST</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoMG</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoMG</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoBancariaLegalBCP</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoBancariaLegalBCP</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoBST</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoBST</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHFiltroNormal::analiseDocumental</string>
               <packageActivityForm>
                  <processDefId>CHFiltroNormal</processDefId>
                  <activityDefId>analiseDocumental</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHValidacaoComplexo::validacaoContratoDocumentacao</string>
               <packageActivityForm>
                  <processDefId>CHValidacaoComplexo</processDefId>
                  <activityDefId>validacaoContratoDocumentacao</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoBancariaLegalGEN</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoBancariaLegalGEN</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoBancariaLegalBCP</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoBancariaLegalBCP</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoLegalNB</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoLegalNB</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHProducaoNormal::processamentoManualMinuta</string>
               <packageActivityForm>
                  <processDefId>CHProducaoNormal</processDefId>
                  <activityDefId>processamentoManualMinuta</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoMG</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoMG</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoLegalNB</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoLegalNB</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoBCP</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoBCP</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoBCP</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoBCP</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHConclusoes::concluirProcesso</string>
               <packageActivityForm>
                  <processDefId>CHConclusoes</processDefId>
                  <activityDefId>concluirProcesso</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoMinutas</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoMinutas</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>poll_email::runProcess</string>
               <packageActivityForm>
                  <processDefId>poll_email</processDefId>
                  <activityDefId>runProcess</activityDefId>
                  <formId>listener</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHProducaoNormal::processamentoRobotMinuta</string>
               <packageActivityForm>
                  <processDefId>CHProducaoNormal</processDefId>
                  <activityDefId>processamentoRobotMinuta</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoGEN</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoGEN</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoGEN</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoGEN</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoBancariaLegalBIC</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoBancariaLegalBIC</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoDespacho</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoDespacho</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHValidacaoNormal::validacaoContratoDocumentacao</string>
               <packageActivityForm>
                  <processDefId>CHValidacaoNormal</processDefId>
                  <activityDefId>validacaoContratoDocumentacao</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>diligencias::confirmarDiligencia</string>
               <packageActivityForm>
                  <processDefId>diligencias</processDefId>
                  <activityDefId>confirmarDiligencia</activityDefId>
                  <formId>confirmarEsclarecimento</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoBancariaLegalBST</string>
               <packageActivityForm>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoBancariaLegalBST</activityDefId>
                  <formId>processo</formId>
                  <type>SINGLE</type>
                  <autoContinue>false</autoContinue>
                  <disableSaveAsDraft>false</disableSaveAsDraft>
               </packageActivityForm>
            </entry>
         </packageActivityFormMap>
         <packageActivityPluginMap>
            <entry>
               <string>CHFiltroNormal::ConfigurarProcesso</string>
               <packageActivityPlugin>
                  <processDefId>CHFiltroNormal</processDefId>
                  <activityDefId>ConfigurarProcesso</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;0\&quot;);\r\nwm.processVariable(ProcessID, \&quot;proxima_operativa\&quot; , \&quot;\&quot;);&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoNB</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoNB</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoNB&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::route1</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>route1</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellDecisionPlugin</pluginName>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoBancariaLegalBIC</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoBancariaLegalBIC</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoBancariaLegalBIC&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::emissaoMinutas</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>emissaoMinutas</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;emissaoMinutas&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHProducaoComplexo::processamentoManualMinuta</string>
               <packageActivityPlugin>
                  <processDefId>CHProducaoComplexo</processDefId>
                  <activityDefId>processamentoManualMinuta</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;processamentoManualMinuta&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::ultimaAtividadeMGCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>ultimaAtividadeMGCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>poll_email::check_emails</string>
               <packageActivityPlugin>
                  <processDefId>poll_email</processDefId>
                  <activityDefId>check_emails</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.lang.Integer;\n\nimport javax.mail.BodyPart;\nimport javax.mail.Flags;\nimport javax.mail.Flags.Flag;\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.Multipart;\nimport javax.mail.Session;\nimport javax.mail.Store;\nimport javax.mail.event.MessageCountAdapter;\nimport javax.mail.event.MessageCountEvent;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.Address;\nimport javax.mail.search.FlagTerm;\nimport javax.mail.internet.MimeMultipart;\n\nimport com.sun.mail.imap.IMAPFolder;\nimport com.sun.mail.imap.IMAPStore;\n\nimport org.joget.commons.util.LogUtil;\nimport org.joget.commons.util.StringUtil;\nimport org.joget.apps.app.model.AppDefinition;\nimport org.joget.apps.app.model.PackageActivityForm;\nimport org.joget.apps.app.service.AppUtil;\nimport org.joget.apps.app.service.AppService;\nimport org.joget.apps.form.model.FormData;\nimport org.joget.directory.model.User;\nimport org.joget.directory.model.service.DirectoryManager;\nimport org.joget.workflow.model.WorkflowAssignment;\nimport org.joget.workflow.model.service.WorkflowManager;\nimport org.joget.workflow.model.service.WorkflowUserManager;\nimport org.joget.plugin.base.ApplicationPlugin;\nimport org.joget.plugin.base.Plugin;\nimport org.joget.plugin.base.PluginManager;\nimport org.joget.plugin.property.model.PropertyEditable;\nimport org.joget.apps.form.model.FormRow;\nimport org.joget.apps.form.model.FormRowSet;\nimport org.joget.workflow.model.service.*;\n\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport javax.sql.DataSource;\nimport org.joget.commons.util.UuidGenerator;\n \n\npublic FormRowSet activitiesLog = new FormRowSet();\n\npublic void pollEmail() {\n    Properties properties = new Properties();\n    if (\&quot;true\&quot;.equals(\&quot;#form.email_listener.debug_imap?java#\&quot;)) {\n        properties.put(\&quot;mail.debug\&quot;, \&quot;true\&quot;);\n    }\n    properties.put(\&quot;mail.store.protocol\&quot;, \&quot;imaps\&quot;);\n    properties.put(\&quot;mail.imaps.host\&quot;, \&quot;#form.email_listener.host?java#\&quot;);\n    properties.put(\&quot;mail.imaps.port\&quot;, \&quot;#form.email_listener.port?java#\&quot;);\n    properties.put(\&quot;mail.imaps.timeout\&quot;, (#form.email_listener.timeout?java# * 1000));\n\n\n\n    Session session = Session.getInstance(properties);\n    \n    \n    IMAPStore store = null;\n    Folder inbox = null;\n\n    int messageCount = 0;\n    String errors = \&quot;\&quot;;\n    try {\n        debug(\&quot;Connect to IMAP for #form.email_listener.email?java#\&quot;);\n        store = (IMAPStore) session.getStore(\&quot;imaps\&quot;);\n        store.connect(\&quot;#form.email_listener.email?java#\&quot;, \&quot;#form.email_listener.password?java#\&quot;);\n        debug(\&quot;IMAP connected for #form.email_listener.email?java#\&quot;);\n\n        inbox = (IMAPFolder) store.getFolder(\&quot;#form.email_listener.folder?java#\&quot;);\n        if (null == folder) {\n            throw new Exception(\&quot; no  folder [#form.email_listener.folder?java#] for user [#form.email_listener.email?java#] on host [#form.email_listener.host?java#]\&quot;);\n        }\n\n        \/\/ opening found folder in read\/write\n        inbox.open(Folder.READ_WRITE);\n\n        messageCount = inbox.getUnreadMessageCount();\n        debug(\&quot;Unread Messages: \&quot; + messageCount);\n        debug(\&quot;Filter email by exact subject text: #form.email_listener.subject_filter?java#\&quot;);\n        debug(\&quot;Filter email by regex subject text: #form.email_listener.subject_pattern?java#\&quot;);\n\n        int count = 0;\n\n        Message[] messages = inbox.search(new FlagTerm(new Flags(Flags.Flag.SEEN), false));\n        \n        for (Message message : messages) {\n            try {\n                if (count &gt; #form.email_listener.max_email?java#) {\n                    debug(\&quot;Email checking reach max email per check(#form.email_listener.max_email?java#).\&quot;);\n                    break;\n                }\n                \n\n                \/\/ get email details\n                String subject = message.getSubject();\n                if(!matchFilter(subject)) {\n                    continue;\n                }\n                \n                InternetAddress senderIA = (InternetAddress) message.getFrom()[0];\n                String sender = senderIA.getAddress();\n\n                String content = \&quot;\&quot;;\n                if (message.getContent() instanceof Multipart) {\n                    \n                    Multipart multipart = (Multipart) message.getContent();\n                    debug(\&quot;MULTIPART \&quot; + multipart);\n                    content = getTextFromMimeMultipart(multipart);\n                    \n                } else {\n                    debug(\&quot;NO MULTIPART\&quot; + \&quot;BBB\&quot;);\n                    content = message.getContent().toString();\n                }\n                \n                \n                storeEmail(message, subject, content, sender);\n                \n\n                count++;\n            } catch (MessagingException e) {\n                errors += e.getMessage() + \&quot;\\n\&quot;;\n                LogUtil.error(\&quot;App: eas - Poll Email tool\&quot;, e, e.getMessage());\n            }\n        }\n\n    } catch (Exception e) {\n        errors += e.getMessage() + \&quot;\\n\&quot;;\n        LogUtil.error(\&quot;App: eas - Poll Email tool\&quot;, e, \&quot;\&quot;);\n    } finally {\n        try {\n            if (inbox != null &amp;&amp; inbox.isOpen()) {\n                inbox.close(false);\n            }\n        } catch (Exception e) {\n            \/\/ ignore\n        }\n\n        try {\n            if (store != null &amp;&amp; store.isConnected()) {\n                store.close();\n            }\n        } catch (Exception e) {\n            \/\/ ignore\n        }\n    }\n    if (!errors.isEmpty()) {\n        addError(messageCount, errors);\n    }\n    storeFormData(\&quot;j_ave_log\&quot;, \&quot;log\&quot;, activitiesLog);\n    \n}\n\n\n\npublic void storeEmail(Message msg, String sbj, String content, String sender){\n    \n    Pattern patternGetNWfPl = Pattern.compile(\&quot;(\\\\D{3}DPA\\\\w{6,})\&quot;);\n    Matcher m = patternGetNWfPl.matcher(sbj);\n    m.find();\n    String nWfPl = m.group(1);\n    \/\/LogUtil.info(\&quot;Numero Wf Pl\&quot;, \&quot;aa\&quot; + nWfPl);\n    \n    Connection con = null;\n    PreparedStatement stmt = null;\n    ResultSet rs = null;\n    UuidGenerator uuid = UuidGenerator.getInstance();\n    String pId = \&quot;\&quot;;\n    String nomeFicheiro = \&quot;EMAIL-\&quot; + sbj + \&quot;.eml\&quot;;\n    \n    try{\n        \n                \n        \n        DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\&quot;setupDataSource\&quot;);\n        con = ds.getConnection();\n       \n       if(!con.isClosed()){\n           \n           String queryGetProcessId = \&quot;SELECT c_id_processo, c_estado_contratacao FROM app_fd_detalhe_processo WHERE c_n_wf_pl = ?\&quot;;\n           stmt = con.prepareStatement(queryGetProcessId);\n           stmt.setString(1, nWfPl);\n           rs = stmt.executeQuery();\n           String estadoContratacao=\&quot;\&quot;;\n            if(rs.next()){\n              estadoContratacao = rs.getObject(\&quot;c_estado_contratacao\&quot;).toString();\n              \n                \/\/Inserir Email no processo\n                String processId = rs.getObject(\&quot;c_id_processo\&quot;).toString();\n                String queryInsertEmail = \&quot;INSERT INTO app_fd_comunicacoes_proce(id,c_assunto, c_destinatarios,c_mensagem, c_id_processo, c_anexos) VALUES(?,?,?,?,?,?)\&quot;; \n                pId=uuid.getUuid();\n                \n                \n                stmt = con.prepareStatement(queryInsertEmail);\n                stmt.setString(1, pId);\n                stmt.setString(2,sbj);\n                stmt.setString(3,sender);\n                stmt.setString(4, content);\n                stmt.setString(5, processId);\n                stmt.setString(6, nomeFicheiro);\n                stmt.executeQuery();\n                \/\/Caso o estado estja pendente\n                if(estadoContratacao.equals(\&quot;PND\&quot;)){\n                    \n                    \/\/Atualizar Estado do processo    \n                    String queryUpdateState = \&quot;UPDATE app_fd_detalhe_processo SET c_estado_contratacao = &apos;ATV&apos; WHERE c_n_wf_pl = ?\&quot;;\n                    stmt = con.prepareStatement(queryUpdateState);        \n                    stmt.setString(1, nWfPl);\n                    stmt.executeQuery();\n                    \n                    String subProcessId= \&quot;\&quot;;\n                    String activityId = \&quot;\&quot;;\n                    \/\/Obter Id do subProcesso\n                    String queryGetProcessId = \&quot;SELECT Id FROM shkprocesses WHERE ActivityRequesterProcessId = ? order by created desc ;\&quot;;\n                    stmt = con.prepareStatement(queryGetProcessId);\n                    stmt.setObject(1, processId);\n                    rs = stmt.executeQuery();\n                    if(rs.next()){\n                        subProcessId = rs.getObject(\&quot;Id\&quot;);\n                        \n                        \/\/Atualizar o sla de Pendente para Em curso\n                        String queryReset= \&quot;UPDATE app_fd_sla_atividade SET c_estado_atividade = &apos;Em curso&apos; WHERE c_id_processo=? AND c_estado_atividade = &apos;Pendente&apos;;\&quot;; \n                        stmt = con.prepareStatement(queryReset);\n                        stmt.setObject(1, subProcessId);\n                        rs = stmt.executeQuery();\n                        \n                        String queryGetActivityId = \&quot;SELECT id FROM shkactivities WHERE processId= ? order by oid desc\&quot;;\n                        stmt = con.prepareStatement(queryGetActivityId);\n                        stmt.setObject(1, subProcessId);\n                        rs = stmt.executeQuery();\n                        if(rs.next()){\n                            activityId = rs.getObject(\&quot;id\&quot;).toString();\n                        \/\/Atualizar Workflow varible    \n                            WorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\n                            wm.activityVariable(activityId,\&quot;estado\&quot;, \&quot;ATV\&quot;);\n                            \n                        }\n                    }\n                    \n                    \n                    \n                \n                }\n            }else{\n                \n                \/\/ Se não encontrar o process Id\n            }\n           \n            \n            \n        } else {\n     \n            \/\/System.out.println(\&quot;Connection Problem\&quot;);\n        }\n    } catch(Exception e) {\n            LogUtil.error(\&quot;Sample app - Form 1\&quot;, e, \&quot;Error loading user data in load binder\&quot;);\n    } finally {\n            \/\/always close the connection after used\n            try {\n               if(rs != null){\n                    rs.close();\n                }\n                if(stmt != null){\n                    stmt.close();\n                }\n                if(con != null) {\n                    con.close();\n                }\n            } catch(SQLException e) {\/* ignored *\/}\n    }\n    \n    \n    File theDir = new File(\&quot;C:\/Joget-DX7-Enterprise\/wflow\/app_formuploads\/comunicacoes_proce\/\&quot; + pId);\n    if (!theDir.exists()){\n        theDir.mkdirs();\n    }\n    \n    String whereToSave = theDir + \&quot;\/\&quot; + nomeFicheiro;\n    OutputStream out = new FileOutputStream(new File(whereToSave));\n    try {\n       msg.writeTo(out);\n    }\n    finally {\n       if (out != null) { out.flush(); out.close(); }\n        \n    }\n    \n    \n    \n}\n\n\n\n\n\n\npublic void parseEmail(String sender, String subject, String content) {\n    String processId = null;\n    String activityId = null;\n    Map variables = new HashMap();\n    FormData formData = new FormData();\n\n    String subject_pattern = \&quot;#form.j_ave_listener.subject_pattern?java#\&quot;;\n    debug(\&quot;subject_pattern: \&quot; + subject_pattern);\n    String subject_reg = StringUtil.escapeString(subject_pattern, StringUtil.TYPE_REGEX, null);\n    debug(\&quot;subject_reg: \&quot; + subject_reg);\n    subject_reg = subject_reg.replaceAll(\&quot;\\\\\\\\\\\\{unuse\\\\\\\\\\\\}\&quot;, \&quot;([\\\\\\\\s\\\\\\\\S]*)\&quot;);\n    subject_reg = subject_reg.replaceAll(\&quot;\\\\\\\\\\\\{[a-zA-Z0-9_]+\\\\\\\\\\\\}\&quot;, \&quot;(.*?)\&quot;);\n    debug(\&quot;subject_reg: \&quot; + subject_reg);\n    String content_pattern = \&quot;#form.j_ave_listener.content_pattern?java#\&quot;;\n    debug(\&quot;content_pattern: \&quot; + content_pattern);\n    String content_reg = StringUtil.escapeString(content_pattern, StringUtil.TYPE_REGEX, null);\n    debug(\&quot;content_reg: \&quot; + content_reg);\n    content_reg = content_reg.replaceAll(\&quot;\\\\\\\\\\\\{unuse\\\\\\\\\\\\}\&quot;, \&quot;([\\\\\\\\s\\\\\\\\S]*)\&quot;);\n    content_reg = content_reg.replaceAll(\&quot;\\\\\\\\\\\\{[a-zA-Z0-9_]+\\\\\\\\\\\\}\&quot;, \&quot;(.*?)\&quot;);\n    debug(\&quot;content_reg: \&quot; + content_reg);\n\n    if (!subject_pattern.equals(subject_reg)) {\n        Pattern pattern = Pattern.compile(\&quot;\\\\{([a-zA-Z0-9_]+)\\\\}\&quot;);\n        Matcher matcher = pattern.matcher(subject_pattern);\n\n        Pattern pattern2 = Pattern.compile(\&quot;^\&quot; + subject_reg + \&quot;$\&quot;);\n        Matcher matcher2 = pattern2.matcher(subject);\n\n        while (matcher2.find()) {\n            int count = 1;\n            while (matcher.find()) {\n                String key = matcher.group(1);\n                String value = matcher2.group(count);\n                debug(\&quot;key: \&quot; + key);\n                debug(\&quot;value: \&quot; + value);\n                if (\&quot;processId\&quot;.equals(key)) {\n                    processId = value;\n                } else if (\&quot;activityId\&quot;.equals(key)) {\n                    activityId = value;\n                } else if (key.startsWith(\&quot;var_\&quot;)) {\n                    key = key.replaceAll(\&quot;var_\&quot;, \&quot;\&quot;);\n                    variables.put(key, value);\n                } else if (key.startsWith(\&quot;form_\&quot;)) {\n                    key = key.replaceAll(\&quot;form_\&quot;, \&quot;\&quot;);\n                    formData.addRequestParameterValues(key, new String[] {value});\n                }\n\n                count++;\n            }\n        }\n    }\n\n    if (!content_pattern.equals(content_reg)) {\n        Pattern pattern = Pattern.compile(\&quot;\\\\{([a-zA-Z0-9_]+)\\\\}\&quot;);\n        Matcher matcher = pattern.matcher(content_pattern);\n\n        Pattern pattern2 = Pattern.compile(\&quot;^\&quot; + content_reg + \&quot;$\&quot;);\n        Matcher matcher2 = pattern2.matcher(content);\n\n        while (matcher2.find()) {\n            int count = 1;\n            while (matcher.find()) {\n                String key = matcher.group(1);\n                String value = matcher2.group(count);\n                debug(\&quot;key: \&quot; + key);\n                debug(\&quot;value: \&quot; + value);\n                if (\&quot;processId\&quot;.equals(key)) {\n                    processId = value.trim();\n                } else if (\&quot;activityId\&quot;.equals(key)) {\n                    activityId = value.trim();\n                } else if (key.startsWith(\&quot;var_\&quot;)) {\n                    key = key.replaceAll(\&quot;var_\&quot;, \&quot;\&quot;);\n                    variables.put(key, value.trim());\n                } else if (key.startsWith(\&quot;form_\&quot;)) {\n                    key = key.replaceAll(\&quot;form_\&quot;, \&quot;\&quot;);\n                    formData.addRequestParameterValues(key, new String[] {value});\n                }\n\n                count++;\n            }\n        }\n    }\n\n    if (processId != null || activityId != null) {\n        completeActivity(sender, processId, activityId, formData, variables, subject, content);\n    }\n}\n\npublic boolean matchFilter(String subject) {\n    String filter = \&quot;#form.email_listener.subject_filter?java#\&quot;;\n    String filterRegex = \&quot;#form.email_listener.subject_filter?java#\&quot;;\n    \n    if ((!filter.isEmpty() &amp;&amp; !filter.startsWith(\&quot;#form.email_listener.subject_filter\&quot;)) ||(\&quot;true\&quot;.equals(\&quot;#form.email_listener.subject_filter_regex?java#\&quot;) &amp;&amp; !filterRegex.isEmpty() &amp;&amp; !filterRegex.startsWith(\&quot;#form.email_listener.subject_pattern\&quot;))){       \n        try {\n            debug(\&quot;Subject filter for (\&quot;+subject+\&quot;).\&quot;);\n            if (\&quot;true\&quot;.equals(\&quot;#form.email_listener.subject_filter_regex?java#\&quot;)) {\n                Pattern patternSubject = Pattern.compile(\&quot;(\\\\D{3}DPA\\\\w{6,})\&quot;);\n                Matcher m = patternSubject.matcher(subject);\n                if (m.find()) {\n                    debug(\&quot;Found a match using regex subject filter\&quot;);\n                    return true;\n                }\n            } else if (subject.contains(\&quot;#form.email_listener.subject_filter?java#\&quot;)) {\n                \n                debug(\&quot;Found a match using exact subject filter\&quot;);\n                return true;\n            } else {\n                debug(\&quot;No match found on subject filter.\&quot;);\n            }\n        } catch (Exception ex) {\n            debug(\&quot;Subject filter error for (\&quot;+subject+\&quot;). \&quot; + ex.getMessage());\n        }\n        return false;\n    } else {\n        return true;\n    }\n}\n\npublic void completeActivity(String sender, String processId, String activityId, FormData formData, Map variables, String subject, String message) {\n    String username = getUsername(sender);\n\n    if (username != null) {\n        AppService appService = (AppService)AppUtil.getApplicationContext().getBean(\&quot;appService\&quot;);\n        WorkflowManager workflowManager = (WorkflowManager)AppUtil.getApplicationContext().getBean(\&quot;workflowManager\&quot;);\n        WorkflowUserManager workflowUserManager = (WorkflowUserManager)AppUtil.getApplicationContext().getBean(\&quot;workflowUserManager\&quot;);\n        String currentUsername = workflowUserManager.getCurrentUsername();\n        try {\n            \/\/ set current user\n            workflowUserManager.setCurrentThreadUser(username);\n\n            \/\/ find assignment\n            WorkflowAssignment assignment = null;\n            if (activityId != null) {\n                assignment = workflowManager.getAssignment(activityId);\n            }\n            if (processId != null) {\n                assignment = workflowManager.getAssignmentByProcess(processId);\n            }\n\n            if (assignment != null) {\n                AppDefinition currentAppDef = AppUtil.getCurrentAppDefinition();\n\n                try {\n                    String assignmentId = assignment.getActivityId();\n                    AppDefinition appDef = appService.getAppDefinitionForWorkflowActivity(assignmentId);\n\n                    activityId = assignment.getActivityId();\n                    processId = assignment.getProcessId();\n\n                    \/\/if has form data to submit\n                    if (!formData.getRequestParams().isEmpty()) {\n                        PackageActivityForm activityForm = appService.viewAssignmentForm(appDef, assignment, formData, \&quot;\&quot;, \&quot;\&quot;);\n                        if (activityForm != null &amp;&amp; activityForm.getForm() != null) {\n                            debug(\&quot;Submit Form for assignment: \&quot; + assignmentId + \&quot; \&quot; + formData.getRequestParams());\n                            appService.submitForm(activityForm.getForm(), formData, false);\n                        }\n                    }\n\n                    debug(\&quot;assignmentComplete: \&quot; + assignmentId + \&quot; \&quot; + variables);\n                    if (!assignment.isAccepted()) {\n                        workflowManager.assignmentAccept(assignmentId);\n                    }\n                    workflowManager.assignmentComplete(assignmentId, variables);\n\n                    sendAutoReply(sender, subject);\n                } finally {\n                    AppUtil.setCurrentAppDefinition(currentAppDef);\n                }\n\n                addActivityLog(sender, processId, activityId, subject, message, variables, formData.getRequestParams());\n            } else {\n                debug(\&quot;assignment not found for process(\&quot; + processId + \&quot;) or activityId(\&quot; + activityId + \&quot;)\&quot;);\n            }\n\n        } finally {\n            workflowUserManager.setCurrentThreadUser(currentUsername);\n        }\n    } else {\n        debug(\&quot;No user found for sender : \&quot; + sender);\n    }\n}\n\npublic String getUsername(String sender) {\n    \/\/ get sender\n    User user = null;\n\n    InternetAddress ia = new InternetAddress(sender);\n    String email = ia.getAddress();\n    DirectoryManager directoryManager = (DirectoryManager)AppUtil.getApplicationContext().getBean(\&quot;directoryManager\&quot;);\n    Collection users = directoryManager.getUserList(email, null, null, 0, 1);\n    if (!users.isEmpty()) {\n        user = (User)users.iterator().next();\n        return user.getUsername();\n    }\n    return null;\n}\n\npublic void sendAutoReply(String sender, String subject) {\n    if (\&quot;true\&quot;.equals(\&quot;#form.email_listener.auto_reply?java#\&quot;)) {\n        sendEmail(sender, \&quot;Re: \&quot; + subject, \&quot;#form.email_listener.smtp_message?java#\&quot;);\n    }\n}\n\npublic void sendEmail(String email, String subject, String message) {\n    PluginManager pluginManager = (PluginManager) AppUtil.getApplicationContext().getBean(\&quot;pluginManager\&quot;);\n    Plugin plugin = pluginManager.getPlugin(\&quot;org.joget.apps.app.lib.EmailTool\&quot;);\n    Map propertiesMap = new HashMap();\n    propertiesMap.put(\&quot;pluginManager\&quot;, pluginManager);\n\n    propertiesMap.put(\&quot;host\&quot;, \&quot;#form.email_listener.smtp_host?java#\&quot;);\n    propertiesMap.put(\&quot;port\&quot;, \&quot;#form.email_listener.smtp_port?java#\&quot;);\n    propertiesMap.put(\&quot;from\&quot;, \&quot;#form.email_listener.smtp_email?java#\&quot;);\n    propertiesMap.put(\&quot;username\&quot;, \&quot;#form.email_listener.smtp_email?java#\&quot;);\n    propertiesMap.put(\&quot;password\&quot;, \&quot;#form.email_listener.smtp_password?java#\&quot;);\n    propertiesMap.put(\&quot;security\&quot;, \&quot;#form.email_listener.smtp_security?java#\&quot;);\n    propertiesMap.put(\&quot;toSpecific\&quot;, email);\n    propertiesMap.put(\&quot;subject\&quot;, subject);\n    propertiesMap.put(\&quot;message\&quot;, message);\n\n    ApplicationPlugin emailTool = (ApplicationPlugin) plugin;\n    ((PropertyEditable) emailTool).setProperties(propertiesMap);\n    emailTool.execute(propertiesMap);\n}\n\npublic void addError(int messageCount, String errors) {\n    FormRowSet rows = new FormRowSet();\n    FormRow row = new FormRow();\n    row.setProperty(\&quot;listener_id\&quot;, \&quot;#form.email_listener.uid?java#\&quot;);\n    row.setProperty(\&quot;count\&quot;, Integer.toString(messageCount));\n    row.setProperty(\&quot;errors\&quot;, errors);\n    Date now = new Date();\n    row.setDateCreated(now);\n    row.setDateModified(now);\n    rows.add(row);\n\n    storeFormData(\&quot;j_ave_log_error\&quot;, \&quot;errorLog\&quot;, rows);\n}\n\npublic void addActivityLog(String sender, String processId, String activityId, String subject, String message, Map variables, Map formData) {\n    FormRow row = new FormRow();\n    row.setProperty(\&quot;listener_id\&quot;, \&quot;#form.email_listener.uid?java#\&quot;);\n    row.setProperty(\&quot;sender\&quot;, sender);\n    row.setProperty(\&quot;processId\&quot;, processId);\n    row.setProperty(\&quot;activityId\&quot;, activityId);\n    row.setProperty(\&quot;subject\&quot;, subject);\n    row.setProperty(\&quot;message\&quot;, message);\n    row.setProperty(\&quot;variables\&quot;, \&quot;Variables: \\n\&quot; + variables.toString() + \&quot;\\n\\nData: \\n\&quot; + formData.toString());\n\n    Date now = new Date();\n\n    row.setDateCreated(now);\n    row.setDateModified(now);\n\n    activitiesLog.add(row);\n}\n\npublic void storeFormData(String tableName, String formId, FormRowSet rows) {\n    AppService appService = (AppService) AppUtil.getApplicationContext().getBean(\&quot;appService\&quot;);\n    appService.storeFormData(formId, tableName, rows, null);\n}\n\npublic void debug(String msg) {\n    if (\&quot;true\&quot;.equals(\&quot;#form.email_listener.debug?java#\&quot;)) {\n        LogUtil.info(\&quot;App: Approval Via Email System\&quot;, msg);\n    }\n}\n\nprivate String getTextFromMimeMultipart(MimeMultipart mimeMultipart)  throws MessagingException, IOException{\n    String result = \&quot;\&quot;;\n    int count = mimeMultipart.getCount();\n    for (int i = 0; i &lt; count; i++) {\n        BodyPart bodyPart = mimeMultipart.getBodyPart(i);\n        debug(\&quot;CONTENT TYPE \&quot; + bodyPart.getContentType());\n        \/*if (bodyPart.isMimeType(\&quot;text\/plain\&quot;)) {\n            result = result + \&quot;\\n\&quot; + bodyPart.getContent();\n            debug(\&quot;TEXT PLAIN CONTENT TYPE\&quot; + result);\n            break; \/\/ without break same text appears twice in my tests\n        } else *\/\n        if (bodyPart.isMimeType(\&quot;text\/html\&quot;)) {\n            String html = (String) bodyPart.getContent();\n            result = result + html;\n            debug(\&quot;HTML CONTENT TYPE\&quot; + result);\n            break;\/\/result + \&quot;\\n\&quot; + org.jsoup.Jsoup.parse(html).text();\n        } else if (bodyPart.getContent() instanceof MimeMultipart){\n            result = result + getTextFromMimeMultipart((MimeMultipart)bodyPart.getContent());\n        }\n    }\n    return result;\n}\n\npollEmail();\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHFiltroComplexo::ultimaAtividadeFil</string>
               <packageActivityPlugin>
                  <processDefId>CHFiltroComplexo</processDefId>
                  <activityDefId>ultimaAtividadeFil</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHProducaoComplexo::ConfigurarProcesso</string>
               <packageActivityPlugin>
                  <processDefId>CHProducaoComplexo</processDefId>
                  <activityDefId>ConfigurarProcesso</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport java.time.LocalDateTime; \r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.DayOfWeek;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport javax.sql.DataSource;\r\nimport org.joget.commons.util.UuidGenerator;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;0\&quot;);\r\nwm.processVariable(ProcessID, \&quot;proxima_operativa\&quot; , \&quot;\&quot;);\r\n\r\n\r\n\r\n\/******************** SLA ****************************\/\r\n\r\npublic String calculateSLAD(String dataInicio, Collection feriados, String sla, String urgencia){\r\n    \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd HH:mm\&quot;);\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd\&quot;);\r\n    LocalDateTime dateInit = LocalDateTime.parse(dataInicio, formatter);  \r\n    LocalDateTime endDateTime = null;\r\n    String endDate = \&quot;\&quot;;\r\n    Collection holidays = feriados;\r\n    \r\n    \r\n    var hour = dateInit.getHour();\r\n    int slaNumber = Integer.parseInt(sla);\r\n    \r\n    if(urgencia.equals(\&quot;SIM\&quot;)){\r\n        \/\/Calcular SLA urgente\r\n        endDateTime = dateInit.plusHours(slaNumber);\r\n        \/\/Passar dias não uteis\r\n        while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n           endDateTime = endDateTime.plusDays(1);\r\n        }\r\n        \r\n        endDate = endDateTime.format(formatter);\r\n        \r\n        \r\n     \r\n    }else{\r\n        \/\/Calcular SLA não urgente\r\n\r\n            if(hour &lt; 12){\r\n                endDateTime = dateInit.withHour(23).withMinute(59);   \/**   HORAS UTEIS???   **\/\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }   \r\n                    slaNumber -= 1;\r\n                }\r\n            }else{\r\n                endDateTime = dateInit.plusDays(1).withHour(12).withMinute(0);\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }\r\n                    slaNumber -= 1;\r\n                }\r\n            }\r\n            \r\n        endDate = endDateTime.format(formatter);\r\n    }\r\n    \r\n    return endDate;\r\n}\r\n\r\npublic boolean isWeekend(LocalDateTime dt) {\r\n    String dayOfWeek = dt.getDayOfWeek().toString();\r\n    \/\/LogUtil.info(\&quot;DAY OF WEEK\&quot;, \&quot;\&quot; + dayOfWeek);\r\n    switch(dayOfWeek) {\r\n        case \&quot;SATURDAY\&quot;:{\r\n            return true;\r\n        }\r\n        case \&quot;SUNDAY\&quot;:{\r\n            return true;\r\n        }\r\n        default:{\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\npublic void updateSLA(){\r\n    Connection con = null;\r\n    PreparedStatement stmt = null;\r\n    ResultSet rs = null;\r\n    \r\n    try{\r\n        DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\&quot;setupDataSource\&quot;);\r\n        con = ds.getConnection();\r\n        \r\n        if(!con.isClosed()){\r\n            String operativa_anterior = \&quot;#variable.operativa_anterior#\&quot;;\r\n            String id_processo_anterior = \&quot;#variable.id_processo_anterior#\&quot;;\r\n            \r\n            \r\n            if(!operativa_anterior.equals(\&quot;PRODUCAO\&quot;) &amp;&amp; !operativa_anterior.trim().isEmpty()){\r\n                \r\n                \/\/Atualizar o sla Em curso para fechado\r\n                String queryReset= \&quot;UPDATE app_fd_sla_atividade SET c_estado_atividade = &apos;Fechada&apos; WHERE c_id_processo=? AND c_estado_atividade = &apos;Em curso&apos;;\&quot;; \r\n                stmt = con.prepareStatement(queryReset);\r\n                stmt.setObject(1, id_processo_anterior);\r\n                rs = stmt.executeQuery();\r\n                rs=null;\r\n                \r\n                \/\/Obter detalhes da tarefa\r\n                String queryGetAssignment = \&quot;SELECT name FROM shkprocesses WHERE id=?;\&quot;;\r\n                String queryGetUserAssign = \&quot;SELECT resourceid FROM shkassignmentstable WHERE activityprocessid =?\&quot;;\r\n                String nomeAtividade = \&quot;\&quot;;\r\n                String utilizador = \&quot;\&quot;;\r\n                stmt = con.prepareStatement(queryGetAssignment);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    nomeAtividade= rs.getObject(\&quot;name\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetUserAssign);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    utilizador= rs.getObject(\&quot;resourceid\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                \/\/Obter feriados\r\n                        String queryGetHolidays = \&quot;SELECT * FROM app_fd_lista_feriados;\&quot;;\r\n                        stmt = con.prepareStatement(queryGetHolidays);\r\n                        rs = stmt.executeQuery();\r\n                        Collection holidays = new ArrayList(); \r\n                        \r\n                        while(rs.next()){\r\n                            holidays.add(rs.getObject(\&quot;c_data\&quot;));\r\n                        }\r\n                \r\n                \/\/Obter Urgencia\r\n                String urgente = \&quot;\&quot;;\r\n                String recordId = \&quot;#process.recordId#\&quot;;\r\n                String queryGetUrgencia = \&quot;SELECT c_urgencia FROM app_fd_detalhe_processo WHERE c_id_processo = ?\&quot;;\r\n                stmt = con.prepareStatement(queryGetUrgencia);\r\n                stmt.setObject(1, recordId);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                   urgente = rs.getObject(\&quot;c_urgencia\&quot;);\r\n                }\r\n                \r\n                \/\/Obter configurações de SLA consoante a operativa e urgencia\r\n                String paramOperativa = \&quot;PRODUCAO\&quot;;\r\n                String queryGetSLAConfig = \&quot;SELECT * FROM app_fd_valores_sla WHERE c_nome like ? \&quot;;\r\n                if(urgente.equals(\&quot;SIM\&quot;)){\r\n                    queryGetSLAConfig += \&quot;AND c_nome like &apos;%URGENTE&apos;\&quot;;\r\n                    paramOperativa += \&quot;%\&quot;;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetSLAConfig);\r\n                stmt.setObject(1, paramOperativa);\r\n                rs = stmt.executeQuery();\r\n                String sla = \&quot;\&quot;; \r\n                if(rs.next()){\r\n                    sla = rs.getObject(\&quot;c_sla\&quot;);\r\n                }\r\n                \r\n                \r\n                String queryCreateSLA = \&quot;INSERT INTO app_fd_sla_atividade (id, dateCreated, dateModified, createdBy,createdByName ,modifiedBy, modifiedByName, c_data_inicio, c_data_fim, c_nome_atividade, c_id_processo, c_utilizador_atribuido, c_estado_atividade) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?);\&quot;;\r\n                stmt = con.prepareStatement(queryCreateSLA);\r\n                \r\n                var idSLA = UuidGenerator.getInstance().getUuid();\r\n                var dateNow =\&quot;#date.yyyy-MM-dd HH:mm#\&quot;;\r\n                var currentUsername = \&quot;#currentUser.username#\&quot;;\r\n                var currentNameUser = \&quot;#currentUser.firstName#\&quot; + \&quot;#currentUser.lastName#\&quot;;\r\n                String dataFim = calculateSLAD(dateNow, holidays, sla, urgente);\r\n               \r\n                var estadoAtividade = \&quot;Em curso\&quot;;\r\n                stmt.setObject(1, idSLA);\r\n                stmt.setObject(2, dateNow);\r\n                stmt.setObject(3, dateNow);\r\n                stmt.setObject(4, currentUsername);\r\n                stmt.setObject(5, currentNameUser);\r\n                stmt.setObject(6, currentUsername);\r\n                stmt.setObject(7, currentNameUser);\r\n                stmt.setObject(8, dateNow);\r\n                stmt.setObject(9, dataFim);   \r\n                stmt.setObject(10, nomeAtividade);\r\n                stmt.setObject(11, ProcessID);\r\n                stmt.setObject(12, utilizador);\r\n                stmt.setObject(13, estadoAtividade);\r\n    \r\n                rs = stmt.executeQuery();\r\n                 \r\n            }\r\n        }\r\n      \r\n    }catch(Exception e){\r\n                LogUtil.error(appDef.toString(), e, \&quot;Error getting info from DB\&quot;);\r\n            }finally{\r\n                try{\r\n                    if(rs != null){\r\n                    rs.close();\r\n                    }\r\n                    if(stmt != null){\r\n                        stmt.close();\r\n                    }\r\n                    if(con != null &amp;&amp; !con.isClosed()) {\r\n                        con.close();\r\n                    }\r\n                }catch(Exception e){\r\n                    LogUtil.error(appDef.toString(), e, \&quot;Error closing DB connection\&quot;);\r\n                }\r\n                \r\n            }\r\n}\r\nupdateSLA();\r\nwm.processVariable(ProcessID, \&quot;operativa_anterior\&quot; , \&quot;PRODUCAO\&quot;);\r\nwm.processVariable(ProcessID, \&quot;id_processo_anterior\&quot; , ProcessID);&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::finalizarContratacao</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>finalizarContratacao</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_contratacao\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHProducaoNormal::ConfigurarProcesso</string>
               <packageActivityPlugin>
                  <processDefId>CHProducaoNormal</processDefId>
                  <activityDefId>ConfigurarProcesso</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport java.time.LocalDateTime; \r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.DayOfWeek;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport javax.sql.DataSource;\r\nimport org.joget.commons.util.UuidGenerator;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;0\&quot;);\r\nwm.processVariable(ProcessID, \&quot;proxima_operativa\&quot; , \&quot;\&quot;);\r\n\r\n\r\n\r\n\/******************** SLA ****************************\/\r\n\r\npublic String calculateSLAD(String dataInicio, Collection feriados, String sla, String urgencia){\r\n    \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd HH:mm\&quot;);\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd\&quot;);\r\n    LocalDateTime dateInit = LocalDateTime.parse(dataInicio, formatter);  \r\n    LocalDateTime endDateTime = null;\r\n    String endDate = \&quot;\&quot;;\r\n    Collection holidays = feriados;\r\n    \r\n    \r\n    var hour = dateInit.getHour();\r\n    int slaNumber = Integer.parseInt(sla);\r\n    \r\n    if(urgencia.equals(\&quot;SIM\&quot;)){\r\n        \/\/Calcular SLA urgente\r\n        endDateTime = dateInit.plusHours(slaNumber);\r\n        \/\/Passar dias não uteis\r\n        while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n           endDateTime = endDateTime.plusDays(1);\r\n        }\r\n        \r\n        endDate = endDateTime.format(formatter);\r\n        \r\n        \r\n     \r\n    }else{\r\n        \/\/Calcular SLA não urgente\r\n\r\n            if(hour &lt; 12){\r\n                endDateTime = dateInit.withHour(23).withMinute(59);   \/**   HORAS UTEIS???   **\/\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }   \r\n                    slaNumber -= 1;\r\n                }\r\n            }else{\r\n                endDateTime = dateInit.plusDays(1).withHour(12).withMinute(0);\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }\r\n                    slaNumber -= 1;\r\n                }\r\n            }\r\n            \r\n        endDate = endDateTime.format(formatter);\r\n    }\r\n    \r\n    return endDate;\r\n}\r\n\r\npublic boolean isWeekend(LocalDateTime dt) {\r\n    String dayOfWeek = dt.getDayOfWeek().toString();\r\n    \/\/LogUtil.info(\&quot;DAY OF WEEK\&quot;, \&quot;\&quot; + dayOfWeek);\r\n    switch(dayOfWeek) {\r\n        case \&quot;SATURDAY\&quot;:{\r\n            return true;\r\n        }\r\n        case \&quot;SUNDAY\&quot;:{\r\n            return true;\r\n        }\r\n        default:{\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\npublic void updateSLA(){\r\n    Connection con = null;\r\n    PreparedStatement stmt = null;\r\n    ResultSet rs = null;\r\n    \r\n    try{\r\n        DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\&quot;setupDataSource\&quot;);\r\n        con = ds.getConnection();\r\n        \r\n        if(!con.isClosed()){\r\n            String operativa_anterior = \&quot;#variable.operativa_anterior#\&quot;;\r\n            String id_processo_anterior = \&quot;#variable.id_processo_anterior#\&quot;;\r\n            \r\n            \r\n            if(!operativa_anterior.equals(\&quot;PRODUCAO\&quot;) &amp;&amp; !operativa_anterior.trim().isEmpty()){\r\n                \r\n                \/\/Atualizar o sla Em curso para fechado\r\n                String queryReset= \&quot;UPDATE app_fd_sla_atividade SET c_estado_atividade = &apos;Fechada&apos; WHERE c_id_processo=? AND c_estado_atividade = &apos;Em curso&apos;;\&quot;; \r\n                stmt = con.prepareStatement(queryReset);\r\n                stmt.setObject(1, id_processo_anterior);\r\n                rs = stmt.executeQuery();\r\n                rs=null;\r\n                \r\n                \/\/Obter detalhes da tarefa\r\n                String queryGetAssignment = \&quot;SELECT name FROM shkprocesses WHERE id=?;\&quot;;\r\n                String queryGetUserAssign = \&quot;SELECT resourceid FROM shkassignmentstable WHERE activityprocessid =?\&quot;;\r\n                String nomeAtividade = \&quot;\&quot;;\r\n                String utilizador = \&quot;\&quot;;\r\n                stmt = con.prepareStatement(queryGetAssignment);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    nomeAtividade= rs.getObject(\&quot;name\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetUserAssign);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    utilizador= rs.getObject(\&quot;resourceid\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                \/\/Obter feriados\r\n                        String queryGetHolidays = \&quot;SELECT * FROM app_fd_lista_feriados;\&quot;;\r\n                        stmt = con.prepareStatement(queryGetHolidays);\r\n                        rs = stmt.executeQuery();\r\n                        Collection holidays = new ArrayList(); \r\n                        \r\n                        while(rs.next()){\r\n                            holidays.add(rs.getObject(\&quot;c_data\&quot;));\r\n                        }\r\n                       \r\n                        \r\n                \/\/Obter Urgencia\r\n                String urgente = \&quot;\&quot;;\r\n                String recordId = \&quot;#process.recordId#\&quot;;\r\n                String queryGetUrgencia = \&quot;SELECT c_urgencia FROM app_fd_detalhe_processo WHERE c_id_processo = ?\&quot;;\r\n                stmt = con.prepareStatement(queryGetUrgencia);\r\n                stmt.setObject(1, recordId);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                   urgente = rs.getObject(\&quot;c_urgencia\&quot;);\r\n                }\r\n                \r\n                \/\/Obter configurações de SLA consoante a operativa e urgencia\r\n                String paramOperativa = \&quot;PRODUCAO\&quot;;\r\n                String queryGetSLAConfig = \&quot;SELECT * FROM app_fd_valores_sla WHERE c_nome like ? \&quot;;\r\n                if(urgente.equals(\&quot;SIM\&quot;)){\r\n                    queryGetSLAConfig += \&quot;AND c_nome like &apos;%URGENTE&apos;\&quot;;\r\n                    paramOperativa += \&quot;%\&quot;;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetSLAConfig);\r\n                stmt.setObject(1, paramOperativa);\r\n                rs = stmt.executeQuery();\r\n                String sla = \&quot;\&quot;; \r\n                if(rs.next()){\r\n                    sla = rs.getObject(\&quot;c_sla\&quot;);\r\n                }\r\n                \r\n                \r\n                \r\n                String queryCreateSLA = \&quot;INSERT INTO app_fd_sla_atividade (id, dateCreated, dateModified, createdBy,createdByName ,modifiedBy, modifiedByName, c_data_inicio, c_data_fim, c_nome_atividade, c_id_processo, c_utilizador_atribuido, c_estado_atividade) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?);\&quot;;\r\n                stmt = con.prepareStatement(queryCreateSLA);\r\n                \r\n                var idSLA = UuidGenerator.getInstance().getUuid();\r\n                var dateNow =\&quot;#date.yyyy-MM-dd HH:mm#\&quot;;\r\n                var currentUsername = \&quot;#currentUser.username#\&quot;;\r\n                var currentNameUser = \&quot;#currentUser.firstName#\&quot; + \&quot;#currentUser.lastName#\&quot;;\r\n                String dataFim = calculateSLAD(dateNow, holidays, sla, urgente);\r\n               \r\n                var estadoAtividade = \&quot;Em curso\&quot;;\r\n                stmt.setObject(1, idSLA);\r\n                stmt.setObject(2, dateNow);\r\n                stmt.setObject(3, dateNow);\r\n                stmt.setObject(4, currentUsername);\r\n                stmt.setObject(5, currentNameUser);\r\n                stmt.setObject(6, currentUsername);\r\n                stmt.setObject(7, currentNameUser);\r\n                stmt.setObject(8, dateNow);\r\n                stmt.setObject(9, dataFim);   \r\n                stmt.setObject(10, nomeAtividade);\r\n                stmt.setObject(11, ProcessID);\r\n                stmt.setObject(12, utilizador);\r\n                stmt.setObject(13, estadoAtividade);\r\n    \r\n                rs = stmt.executeQuery();\r\n            }\r\n        }\r\n      \r\n    }catch(Exception e){\r\n                LogUtil.error(appDef.toString(), e, \&quot;Error getting info from DB\&quot;);\r\n            }finally{\r\n                try{\r\n                    if(rs != null){\r\n                    rs.close();\r\n                    }\r\n                    if(stmt != null){\r\n                        stmt.close();\r\n                    }\r\n                    if(con != null &amp;&amp; !con.isClosed()) {\r\n                        con.close();\r\n                    }\r\n                }catch(Exception e){\r\n                    LogUtil.error(appDef.toString(), e, \&quot;Error closing DB connection\&quot;);\r\n                }\r\n                \r\n            }\r\n}\r\nupdateSLA();\r\nwm.processVariable(ProcessID, \&quot;operativa_anterior\&quot; , \&quot;PRODUCAO\&quot;);\r\nwm.processVariable(ProcessID, \&quot;id_processo_anterior\&quot; , ProcessID);&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHValidacaoNormal::ConfigurarProcesso</string>
               <packageActivityPlugin>
                  <processDefId>CHValidacaoNormal</processDefId>
                  <activityDefId>ConfigurarProcesso</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport java.time.LocalDateTime; \r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.DayOfWeek;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport javax.sql.DataSource;\r\nimport org.joget.commons.util.UuidGenerator;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;0\&quot;);\r\nwm.processVariable(ProcessID, \&quot;proxima_operativa\&quot; , \&quot;\&quot;);\r\n\r\n\r\n\r\n\/******************** SLA ****************************\/\r\n\r\npublic String calculateSLAD(String dataInicio, Collection feriados, String sla, String urgencia){\r\n    \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd HH:mm\&quot;);\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd\&quot;);\r\n    LocalDateTime dateInit = LocalDateTime.parse(dataInicio, formatter);  \r\n    LocalDateTime endDateTime = null;\r\n    String endDate = \&quot;\&quot;;\r\n    Collection holidays = feriados;\r\n    \r\n    \r\n    var hour = dateInit.getHour();\r\n    int slaNumber = Integer.parseInt(sla);\r\n    \r\n    if(urgencia.equals(\&quot;SIM\&quot;)){\r\n        \/\/Calcular SLA urgente\r\n        endDateTime = dateInit.plusHours(slaNumber);\r\n        \/\/Passar dias não uteis\r\n        while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n           endDateTime = endDateTime.plusDays(1);\r\n        }\r\n        \r\n        endDate = endDateTime.format(formatter);\r\n        \r\n        \r\n     \r\n    }else{\r\n        \/\/Calcular SLA não urgente\r\n\r\n            if(hour &lt; 12){\r\n                endDateTime = dateInit.withHour(23).withMinute(59);   \/**   HORAS UTEIS???   **\/\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }   \r\n                    slaNumber -= 1;\r\n                }\r\n            }else{\r\n                endDateTime = dateInit.plusDays(1).withHour(12).withMinute(0);\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }\r\n                    slaNumber -= 1;\r\n                }\r\n            }\r\n            \r\n        endDate = endDateTime.format(formatter);\r\n    }\r\n    \r\n    return endDate;\r\n}\r\n\r\npublic boolean isWeekend(LocalDateTime dt) {\r\n    String dayOfWeek = dt.getDayOfWeek().toString();\r\n    \/\/LogUtil.info(\&quot;DAY OF WEEK\&quot;, \&quot;\&quot; + dayOfWeek);\r\n    switch(dayOfWeek) {\r\n        case \&quot;SATURDAY\&quot;:{\r\n            return true;\r\n        }\r\n        case \&quot;SUNDAY\&quot;:{\r\n            return true;\r\n        }\r\n        default:{\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\npublic void updateSLA(){\r\n    Connection con = null;\r\n    PreparedStatement stmt = null;\r\n    ResultSet rs = null;\r\n    \r\n    try{\r\n        DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\&quot;setupDataSource\&quot;);\r\n        con = ds.getConnection();\r\n        \r\n        if(!con.isClosed()){\r\n            String operativa_anterior = \&quot;#variable.operativa_anterior#\&quot;;\r\n            String id_processo_anterior = \&quot;#variable.id_processo_anterior#\&quot;;\r\n            \r\n            \r\n            if(!operativa_anterior.equals(\&quot;VALIDACAO\&quot;) &amp;&amp; !operativa_anterior.trim().isEmpty()){\r\n                \r\n                \/\/Atualizar o sla Em curso para fechado\r\n                String queryReset= \&quot;UPDATE app_fd_sla_atividade SET c_estado_atividade = &apos;Fechada&apos; WHERE c_id_processo=? AND c_estado_atividade = &apos;Em curso&apos;;\&quot;; \r\n                stmt = con.prepareStatement(queryReset);\r\n                stmt.setObject(1, id_processo_anterior);\r\n                rs = stmt.executeQuery();\r\n                rs=null;\r\n                \r\n                \/\/Obter detalhes da tarefa\r\n                String queryGetAssignment = \&quot;SELECT name FROM shkprocesses WHERE id=?;\&quot;;\r\n                String queryGetUserAssign = \&quot;SELECT resourceid FROM shkassignmentstable WHERE activityprocessid =?\&quot;;\r\n                String nomeAtividade = \&quot;\&quot;;\r\n                String utilizador = \&quot;\&quot;;\r\n                stmt = con.prepareStatement(queryGetAssignment);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    nomeAtividade= rs.getObject(\&quot;name\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetUserAssign);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    utilizador= rs.getObject(\&quot;resourceid\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                \/\/Obter feriados\r\n                        String queryGetHolidays = \&quot;SELECT * FROM app_fd_lista_feriados;\&quot;;\r\n                        stmt = con.prepareStatement(queryGetHolidays);\r\n                        rs = stmt.executeQuery();\r\n                        Collection holidays = new ArrayList(); \r\n                        \r\n                        while(rs.next()){\r\n                            holidays.add(rs.getObject(\&quot;c_data\&quot;));\r\n                        }\r\n                        \r\n                \/\/Obter Urgencia\r\n                String urgente = \&quot;\&quot;;\r\n                String recordId = \&quot;#process.recordId#\&quot;;\r\n                String queryGetUrgencia = \&quot;SELECT c_urgencia FROM app_fd_detalhe_processo WHERE c_id_processo = ?\&quot;;\r\n                stmt = con.prepareStatement(queryGetUrgencia);\r\n                stmt.setObject(1, recordId);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                   urgente = rs.getObject(\&quot;c_urgencia\&quot;);\r\n                }\r\n                \r\n                \/\/Obter configurações de SLA consoante a operativa e urgencia\r\n                String paramOperativa = \&quot;VALIDACAO\&quot;;\r\n                String queryGetSLAConfig = \&quot;SELECT * FROM app_fd_valores_sla WHERE c_nome like ? \&quot;;\r\n                if(urgente.equals(\&quot;SIM\&quot;)){\r\n                    queryGetSLAConfig += \&quot;AND c_nome like &apos;%URGENTE&apos;\&quot;;\r\n                    paramOperativa += \&quot;%\&quot;;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetSLAConfig);\r\n                stmt.setObject(1, paramOperativa);\r\n                rs = stmt.executeQuery();\r\n                String sla = \&quot;\&quot;; \r\n                if(rs.next()){\r\n                    sla = rs.getObject(\&quot;c_sla\&quot;);\r\n                }\r\n                \r\n                \r\n                \r\n                String queryCreateSLA = \&quot;INSERT INTO app_fd_sla_atividade (id, dateCreated, dateModified, createdBy,createdByName ,modifiedBy, modifiedByName, c_data_inicio, c_data_fim, c_nome_atividade, c_id_processo, c_utilizador_atribuido, c_estado_atividade) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?);\&quot;;\r\n                stmt = con.prepareStatement(queryCreateSLA);\r\n                \r\n                var idSLA = UuidGenerator.getInstance().getUuid();\r\n                var dateNow =\&quot;#date.yyyy-MM-dd HH:mm#\&quot;;\r\n                var currentUsername = \&quot;#currentUser.username#\&quot;;\r\n                var currentNameUser = \&quot;#currentUser.firstName#\&quot; + \&quot;#currentUser.lastName#\&quot;;\r\n                String dataFim = calculateSLAD(dateNow, holidays, sla, urgente);\r\n               \r\n                var estadoAtividade = \&quot;Em curso\&quot;;\r\n                stmt.setObject(1, idSLA);\r\n                stmt.setObject(2, dateNow);\r\n                stmt.setObject(3, dateNow);\r\n                stmt.setObject(4, currentUsername);\r\n                stmt.setObject(5, currentNameUser);\r\n                stmt.setObject(6, currentUsername);\r\n                stmt.setObject(7, currentNameUser);\r\n                stmt.setObject(8, dateNow);\r\n                stmt.setObject(9, dataFim);   \r\n                stmt.setObject(10, nomeAtividade);\r\n                stmt.setObject(11, ProcessID);\r\n                stmt.setObject(12, utilizador);\r\n                stmt.setObject(13, estadoAtividade);\r\n    \r\n                rs = stmt.executeQuery();\r\n                 \r\n            }\r\n        }\r\n      \r\n    }catch(Exception e){\r\n                LogUtil.error(appDef.toString(), e, \&quot;Error getting info from DB\&quot;);\r\n            }finally{\r\n                try{\r\n                    if(rs != null){\r\n                    rs.close();\r\n                    }\r\n                    if(stmt != null){\r\n                        stmt.close();\r\n                    }\r\n                    if(con != null &amp;&amp; !con.isClosed()) {\r\n                        con.close();\r\n                    }\r\n                }catch(Exception e){\r\n                    LogUtil.error(appDef.toString(), e, \&quot;Error closing DB connection\&quot;);\r\n                }\r\n                \r\n            }\r\n}\r\nupdateSLA();\r\nwm.processVariable(ProcessID, \&quot;operativa_anterior\&quot; , \&quot;VALIDACAO\&quot;);\r\nwm.processVariable(ProcessID, \&quot;id_processo_anterior\&quot; , ProcessID);&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHProducaoComplexo::ultimaAtividadeProd</string>
               <packageActivityPlugin>
                  <processDefId>CHProducaoComplexo</processDefId>
                  <activityDefId>ultimaAtividadeProd</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHProducaoComplexo::processamentoRobotMinuta</string>
               <packageActivityPlugin>
                  <processDefId>CHProducaoComplexo</processDefId>
                  <activityDefId>processamentoRobotMinuta</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;processamentoRobotMinuta&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHFiltroComplexo::analiseDocumental</string>
               <packageActivityPlugin>
                  <processDefId>CHFiltroComplexo</processDefId>
                  <activityDefId>analiseDocumental</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;analiseDocumental&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHProducaoNormal::ultimaAtividadeProd</string>
               <packageActivityPlugin>
                  <processDefId>CHProducaoNormal</processDefId>
                  <activityDefId>ultimaAtividadeProd</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHFiltroNormal::ultimaAtividadeFil</string>
               <packageActivityPlugin>
                  <processDefId>CHFiltroNormal</processDefId>
                  <activityDefId>ultimaAtividadeFil</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>diligencias::fecha</string>
               <packageActivityPlugin>
                  <processDefId>diligencias</processDefId>
                  <activityDefId>fecha</activityDefId>
                  <pluginName>org.joget.apps.app.lib.RulesDecisionPlugin</pluginName>
                  <pluginProperties>{&quot;rules&quot;:{&quot;ifrules&quot;:[{&quot;revert&quot;:false,&quot;andOr&quot;:&quot;and&quot;,&quot;conditions&quot;:[{&quot;revert&quot;:false,&quot;variable&quot;:&quot;estado&quot;,&quot;operation&quot;:&quot;==&quot;,&quot;value&quot;:&quot;resolvido&quot;}],&quot;actions&quot;:[{&quot;type&quot;:&quot;transition&quot;,&quot;name&quot;:&quot;transition7&quot;,&quot;value&quot;:&quot;&quot;}]}],&quot;else&quot;:[{&quot;type&quot;:&quot;transition&quot;,&quot;name&quot;:&quot;transition4&quot;,&quot;value&quot;:&quot;&quot;}]}}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoDespacho</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoDespacho</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoDespacho&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoBIC</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoBIC</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoBIC&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::emissaoCarta</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>emissaoCarta</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;emissaoCarta&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoBIC</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoBIC</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoBIC&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoMG</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoMG</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoMG&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoBancariaLegalBCP</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoBancariaLegalBCP</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoBancariaLegalBCP&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::ConfigurarProcesso</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>ConfigurarProcesso</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport java.time.LocalDateTime; \r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.DayOfWeek;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport javax.sql.DataSource;\r\nimport org.joget.commons.util.UuidGenerator;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;0\&quot;);\r\nwm.processVariable(ProcessID, \&quot;proxima_operativa\&quot; , \&quot;\&quot;);\r\n\r\n\r\n\r\n\/******************** SLA ****************************\/\r\n\r\npublic String calculateSLAD(String dataInicio, Collection feriados, String sla, String urgencia){\r\n    \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd HH:mm\&quot;);\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd\&quot;);\r\n    LocalDateTime dateInit = LocalDateTime.parse(dataInicio, formatter);  \r\n    LocalDateTime endDateTime = null;\r\n    String endDate = \&quot;\&quot;;\r\n    Collection holidays = feriados;\r\n    \r\n    \r\n    var hour = dateInit.getHour();\r\n    int slaNumber = Integer.parseInt(sla);\r\n    \r\n    if(urgencia.equals(\&quot;SIM\&quot;)){\r\n        \/\/Calcular SLA urgente\r\n        endDateTime = dateInit.plusHours(slaNumber);\r\n        \/\/Passar dias não uteis\r\n        while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n           endDateTime = endDateTime.plusDays(1);\r\n        }\r\n        \r\n        endDate = endDateTime.format(formatter);\r\n        \r\n        \r\n     \r\n    }else{\r\n        \/\/Calcular SLA não urgente\r\n\r\n            if(hour &lt; 12){\r\n                endDateTime = dateInit.withHour(23).withMinute(59);   \/**   HORAS UTEIS???   **\/\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }   \r\n                    slaNumber -= 1;\r\n                }\r\n            }else{\r\n                endDateTime = dateInit.plusDays(1).withHour(12).withMinute(0);\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }\r\n                    slaNumber -= 1;\r\n                }\r\n            }\r\n            \r\n        endDate = endDateTime.format(formatter);\r\n    }\r\n    \r\n    return endDate;\r\n}\r\n\r\npublic boolean isWeekend(LocalDateTime dt) {\r\n    String dayOfWeek = dt.getDayOfWeek().toString();\r\n    \/\/LogUtil.info(\&quot;DAY OF WEEK\&quot;, \&quot;\&quot; + dayOfWeek);\r\n    switch(dayOfWeek) {\r\n        case \&quot;SATURDAY\&quot;:{\r\n            return true;\r\n        }\r\n        case \&quot;SUNDAY\&quot;:{\r\n            return true;\r\n        }\r\n        default:{\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\npublic void updateSLA(){\r\n    Connection con = null;\r\n    PreparedStatement stmt = null;\r\n    ResultSet rs = null;\r\n    \r\n    try{\r\n        DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\&quot;setupDataSource\&quot;);\r\n        con = ds.getConnection();\r\n        \r\n        LogUtil.info(\&quot;ANTES DA CONECTION\&quot;, \&quot;\&quot;);\r\n        if(!con.isClosed()){\r\n            String operativa_anterior = \&quot;#variable.operativa_anterior#\&quot;;\r\n            String id_processo_anterior = \&quot;#variable.id_processo_anterior#\&quot;;\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            if(!operativa_anterior.equals(\&quot;CONTRATACAO\&quot;) &amp;&amp; !operativa_anterior.trim().isEmpty()){\r\n                \r\n                \/\/Atualizar o sla Em curso para fechado\r\n                String queryReset= \&quot;UPDATE app_fd_sla_atividade SET c_estado_atividade = &apos;Fechada&apos; WHERE c_id_processo=? AND c_estado_atividade = &apos;Em curso&apos;;\&quot;; \r\n                stmt = con.prepareStatement(queryReset);\r\n                stmt.setObject(1, id_processo_anterior);\r\n                rs = stmt.executeQuery();\r\n                rs=null;\r\n                \r\n                \/\/Obter detalhes da tarefa\r\n                String queryGetAssignment = \&quot;SELECT name FROM shkprocesses WHERE id=?;\&quot;;\r\n                String queryGetUserAssign = \&quot;SELECT resourceid FROM shkassignmentstable WHERE activityprocessid =?\&quot;;\r\n                String nomeAtividade = \&quot;\&quot;;\r\n                String utilizador = \&quot;\&quot;;\r\n                stmt = con.prepareStatement(queryGetAssignment);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    nomeAtividade= rs.getObject(\&quot;name\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetUserAssign);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    utilizador= rs.getObject(\&quot;resourceid\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                \/\/Obter feriados\r\n                String queryGetHolidays = \&quot;SELECT * FROM app_fd_lista_feriados;\&quot;;\r\n                stmt = con.prepareStatement(queryGetHolidays);\r\n                rs = stmt.executeQuery();\r\n                Collection holidays = new ArrayList(); \r\n                \r\n                while(rs.next()){\r\n                    holidays.add(rs.getObject(\&quot;c_data\&quot;));\r\n                }\r\n                        \r\n                \/\/Obter Urgencia\r\n                String urgente = \&quot;\&quot;;\r\n                String recordId = \&quot;#process.recordId#\&quot;;\r\n                String queryGetUrgencia = \&quot;SELECT c_urgencia FROM app_fd_detalhe_processo WHERE c_id_processo = ?\&quot;;\r\n                stmt = con.prepareStatement(queryGetUrgencia);\r\n                stmt.setObject(1, recordId);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                   urgente = rs.getObject(\&quot;c_urgencia\&quot;);\r\n                }\r\n                \r\n                \/\/Obter configurações de SLA consoante a operativa e urgencia\r\n                String paramOperativa = \&quot;CONTRATACAO\&quot;;\r\n                String queryGetSLAConfig = \&quot;SELECT * FROM app_fd_valores_sla WHERE c_nome like ? \&quot;;\r\n                if(urgente.equals(\&quot;SIM\&quot;)){\r\n                    queryGetSLAConfig += \&quot;AND c_nome like &apos;%URGENTE&apos;\&quot;;\r\n                    paramOperativa += \&quot;%\&quot;;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetSLAConfig);\r\n                stmt.setObject(1, paramOperativa);\r\n                rs = stmt.executeQuery();\r\n                String sla = \&quot;\&quot;; \r\n                if(rs.next()){\r\n                    sla = rs.getObject(\&quot;c_sla\&quot;);\r\n                }\r\n                \r\n                \r\n                \r\n                String queryCreateSLA = \&quot;INSERT INTO app_fd_sla_atividade (id, dateCreated, dateModified, createdBy,createdByName ,modifiedBy, modifiedByName, c_data_inicio, c_data_fim, c_nome_atividade, c_id_processo, c_utilizador_atribuido, c_estado_atividade) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?);\&quot;;\r\n                stmt = con.prepareStatement(queryCreateSLA);\r\n                \r\n                var idSLA = UuidGenerator.getInstance().getUuid();\r\n                var dateNow =\&quot;#date.yyyy-MM-dd HH:mm#\&quot;;\r\n                var currentUsername = \&quot;#currentUser.username#\&quot;;\r\n                var currentNameUser = \&quot;#currentUser.firstName#\&quot; + \&quot;#currentUser.lastName#\&quot;;\r\n                String dataFim = calculateSLAD(dateNow, holidays, sla, urgente);\r\n               \r\n                var estadoAtividade = \&quot;Em curso\&quot;;\r\n                stmt.setObject(1, idSLA);\r\n                stmt.setObject(2, dateNow);\r\n                stmt.setObject(3, dateNow);\r\n                stmt.setObject(4, currentUsername);\r\n                stmt.setObject(5, currentNameUser);\r\n                stmt.setObject(6, currentUsername);\r\n                stmt.setObject(7, currentNameUser);\r\n                stmt.setObject(8, dateNow);\r\n                stmt.setObject(9, dataFim);   \r\n                stmt.setObject(10, nomeAtividade);\r\n                stmt.setObject(11, ProcessID);\r\n                stmt.setObject(12, utilizador);\r\n                stmt.setObject(13, estadoAtividade);\r\n    \r\n                rs = stmt.executeQuery();\r\n                 \r\n            }\r\n        }\r\n      \r\n    }catch(Exception e){\r\n                LogUtil.error(appDef.toString(), e, \&quot;Error getting info from DB\&quot;);\r\n            }finally{\r\n                try{\r\n                    if(rs != null){\r\n                    rs.close();\r\n                    }\r\n                    if(stmt != null){\r\n                        stmt.close();\r\n                    }\r\n                    if(con != null &amp;&amp; !con.isClosed()) {\r\n                        con.close();\r\n                    }\r\n                }catch(Exception e){\r\n                    LogUtil.error(appDef.toString(), e, \&quot;Error closing DB connection\&quot;);\r\n                }\r\n                \r\n            }\r\n}\r\nupdateSLA();\r\nwm.processVariable(ProcessID, \&quot;operativa_anterior\&quot; , \&quot;CONTRATACAO\&quot;);\r\nwm.processVariable(ProcessID, \&quot;id_processo_anterior\&quot; , ProcessID);\r\n\r\n\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::ultimaAtividadeBSTCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>ultimaAtividadeBSTCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHFiltroNormal::analiseDocumental</string>
               <packageActivityPlugin>
                  <processDefId>CHFiltroNormal</processDefId>
                  <activityDefId>analiseDocumental</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;analiseDocumental&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHFiltroComplexo::ConfigurarProcesso</string>
               <packageActivityPlugin>
                  <processDefId>CHFiltroComplexo</processDefId>
                  <activityDefId>ConfigurarProcesso</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;0\&quot;);\r\nwm.processVariable(ProcessID, \&quot;proxima_operativa\&quot; , \&quot;\&quot;);&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoLegalNB</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoLegalNB</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoLegalNB&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHProducaoNormal::processamentoManualMinuta</string>
               <packageActivityPlugin>
                  <processDefId>CHProducaoNormal</processDefId>
                  <activityDefId>processamentoManualMinuta</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;processamentoManualMinuta&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoMG</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoMG</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoMG&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoLegalNB</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoLegalNB</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoLegalNB&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHValidacaoComplexo::ConfigurarProcesso</string>
               <packageActivityPlugin>
                  <processDefId>CHValidacaoComplexo</processDefId>
                  <activityDefId>ConfigurarProcesso</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport java.time.LocalDateTime; \r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.DayOfWeek;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport javax.sql.DataSource;\r\nimport org.joget.commons.util.UuidGenerator;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;0\&quot;);\r\nwm.processVariable(ProcessID, \&quot;proxima_operativa\&quot; , \&quot;\&quot;);\r\n\r\n\r\n\r\n\/******************** SLA ****************************\/\r\n\r\npublic String calculateSLAD(String dataInicio, Collection feriados, String sla, String urgencia){\r\n    \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd HH:mm\&quot;);\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd\&quot;);\r\n    LocalDateTime dateInit = LocalDateTime.parse(dataInicio, formatter);  \r\n    LocalDateTime endDateTime = null;\r\n    String endDate = \&quot;\&quot;;\r\n    Collection holidays = feriados;\r\n    \r\n    \r\n    var hour = dateInit.getHour();\r\n    int slaNumber = Integer.parseInt(sla);\r\n    \r\n    if(urgencia.equals(\&quot;SIM\&quot;)){\r\n        \/\/Calcular SLA urgente\r\n        endDateTime = dateInit.plusHours(slaNumber);\r\n        \/\/Passar dias não uteis\r\n        while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n           endDateTime = endDateTime.plusDays(1);\r\n        }\r\n        \r\n        endDate = endDateTime.format(formatter);\r\n        \r\n        \r\n     \r\n    }else{\r\n        \/\/Calcular SLA não urgente\r\n\r\n            if(hour &lt; 12){\r\n                endDateTime = dateInit.withHour(23).withMinute(59);   \/**   HORAS UTEIS???   **\/\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }   \r\n                    slaNumber -= 1;\r\n                }\r\n            }else{\r\n                endDateTime = dateInit.plusDays(1).withHour(12).withMinute(0);\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }\r\n                    slaNumber -= 1;\r\n                }\r\n            }\r\n            \r\n        endDate = endDateTime.format(formatter);\r\n    }\r\n    \r\n    return endDate;\r\n}\r\n\r\npublic boolean isWeekend(LocalDateTime dt) {\r\n    String dayOfWeek = dt.getDayOfWeek().toString();\r\n    \/\/LogUtil.info(\&quot;DAY OF WEEK\&quot;, \&quot;\&quot; + dayOfWeek);\r\n    switch(dayOfWeek) {\r\n        case \&quot;SATURDAY\&quot;:{\r\n            return true;\r\n        }\r\n        case \&quot;SUNDAY\&quot;:{\r\n            return true;\r\n        }\r\n        default:{\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\npublic void updateSLA(){\r\n    Connection con = null;\r\n    PreparedStatement stmt = null;\r\n    ResultSet rs = null;\r\n    \r\n    try{\r\n        DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\&quot;setupDataSource\&quot;);\r\n        con = ds.getConnection();\r\n        \r\n        if(!con.isClosed()){\r\n            String operativa_anterior = \&quot;#variable.operativa_anterior#\&quot;;\r\n            String id_processo_anterior = \&quot;#variable.id_processo_anterior#\&quot;;\r\n            \r\n            \r\n            if(!operativa_anterior.equals(\&quot;VALIDACAO\&quot;) &amp;&amp; !operativa_anterior.trim().isEmpty()){\r\n                \r\n                \/\/Atualizar o sla Em curso para fechado\r\n                String queryReset= \&quot;UPDATE app_fd_sla_atividade SET c_estado_atividade = &apos;Fechada&apos; WHERE c_id_processo=? AND c_estado_atividade = &apos;Em curso&apos;;\&quot;; \r\n                stmt = con.prepareStatement(queryReset);\r\n                stmt.setObject(1, id_processo_anterior);\r\n                rs = stmt.executeQuery();\r\n                rs=null;\r\n                \r\n                \/\/Obter detalhes da tarefa\r\n                String queryGetAssignment = \&quot;SELECT name FROM shkprocesses WHERE id=?;\&quot;;\r\n                String queryGetUserAssign = \&quot;SELECT resourceid FROM shkassignmentstable WHERE activityprocessid =?\&quot;;\r\n                String nomeAtividade = \&quot;\&quot;;\r\n                String utilizador = \&quot;\&quot;;\r\n                stmt = con.prepareStatement(queryGetAssignment);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    nomeAtividade= rs.getObject(\&quot;name\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetUserAssign);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    utilizador= rs.getObject(\&quot;resourceid\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                \/\/Obter feriados\r\n                        String queryGetHolidays = \&quot;SELECT * FROM app_fd_lista_feriados;\&quot;;\r\n                        stmt = con.prepareStatement(queryGetHolidays);\r\n                        rs = stmt.executeQuery();\r\n                        Collection holidays = new ArrayList(); \r\n                        \r\n                        while(rs.next()){\r\n                            holidays.add(rs.getObject(\&quot;c_data\&quot;));\r\n                        }\r\n                        \r\n                \/\/Obter Urgencia\r\n                String urgente = \&quot;\&quot;;\r\n                String recordId = \&quot;#process.recordId#\&quot;;\r\n                String queryGetUrgencia = \&quot;SELECT c_urgencia FROM app_fd_detalhe_processo WHERE c_id_processo = ?\&quot;;\r\n                stmt = con.prepareStatement(queryGetUrgencia);\r\n                stmt.setObject(1, recordId);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                   urgente = rs.getObject(\&quot;c_urgencia\&quot;);\r\n                }\r\n                \r\n                \/\/Obter configurações de SLA consoante a operativa e urgencia\r\n                String paramOperativa = \&quot;VALIDACAO\&quot;;\r\n                String queryGetSLAConfig = \&quot;SELECT * FROM app_fd_valores_sla WHERE c_nome like ? \&quot;;\r\n                if(urgente.equals(\&quot;SIM\&quot;)){\r\n                    queryGetSLAConfig += \&quot;AND c_nome like &apos;%URGENTE&apos;\&quot;;\r\n                    paramOperativa += \&quot;%\&quot;;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetSLAConfig);\r\n                stmt.setObject(1, paramOperativa);\r\n                rs = stmt.executeQuery();\r\n                String sla = \&quot;\&quot;; \r\n                if(rs.next()){\r\n                    sla = rs.getObject(\&quot;c_sla\&quot;);\r\n                }        \r\n                \r\n                \r\n                \r\n                String queryCreateSLA = \&quot;INSERT INTO app_fd_sla_atividade (id, dateCreated, dateModified, createdBy,createdByName ,modifiedBy, modifiedByName, c_data_inicio, c_data_fim, c_nome_atividade, c_id_processo, c_utilizador_atribuido, c_estado_atividade) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?);\&quot;;\r\n                stmt = con.prepareStatement(queryCreateSLA);\r\n                \r\n                var idSLA = UuidGenerator.getInstance().getUuid();\r\n                var dateNow =\&quot;#date.yyyy-MM-dd HH:mm#\&quot;;\r\n                var currentUsername = \&quot;#currentUser.username#\&quot;;\r\n                var currentNameUser = \&quot;#currentUser.firstName#\&quot; + \&quot;#currentUser.lastName#\&quot;;\r\n                String dataFim = calculateSLAD(dateNow, holidays, sla, urgente);\r\n               \r\n                var estadoAtividade = \&quot;Em curso\&quot;;\r\n                stmt.setObject(1, idSLA);\r\n                stmt.setObject(2, dateNow);\r\n                stmt.setObject(3, dateNow);\r\n                stmt.setObject(4, currentUsername);\r\n                stmt.setObject(5, currentNameUser);\r\n                stmt.setObject(6, currentUsername);\r\n                stmt.setObject(7, currentNameUser);\r\n                stmt.setObject(8, dateNow);\r\n                stmt.setObject(9, dataFim);   \r\n                stmt.setObject(10, nomeAtividade);\r\n                stmt.setObject(11, ProcessID);\r\n                stmt.setObject(12, utilizador);\r\n                stmt.setObject(13, estadoAtividade);\r\n    \r\n                rs = stmt.executeQuery();\r\n                 \r\n            }\r\n        }\r\n      \r\n    }catch(Exception e){\r\n                LogUtil.error(appDef.toString(), e, \&quot;Error getting info from DB\&quot;);\r\n            }finally{\r\n                try{\r\n                    if(rs != null){\r\n                    rs.close();\r\n                    }\r\n                    if(stmt != null){\r\n                        stmt.close();\r\n                    }\r\n                    if(con != null &amp;&amp; !con.isClosed()) {\r\n                        con.close();\r\n                    }\r\n                }catch(Exception e){\r\n                    LogUtil.error(appDef.toString(), e, \&quot;Error closing DB connection\&quot;);\r\n                }\r\n                \r\n            }\r\n}\r\nupdateSLA();\r\nwm.processVariable(ProcessID, \&quot;operativa_anterior\&quot; , \&quot;VALIDACAO\&quot;);\r\nwm.processVariable(ProcessID, \&quot;id_processo_anterior\&quot; , ProcessID);&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::ultimaAtividadeBCPCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>ultimaAtividadeBCPCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHProducaoNormal::processamentoRobotMinuta</string>
               <packageActivityPlugin>
                  <processDefId>CHProducaoNormal</processDefId>
                  <activityDefId>processamentoRobotMinuta</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;processamentoRobotMinuta&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoBancariaLegalBIC</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoBancariaLegalBIC</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoBancariaLegalBIC&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoDespacho</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoDespacho</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoDespacho&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::ultimaAtividadeBSTCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>ultimaAtividadeBSTCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::ultimaAtividadeBCPCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>ultimaAtividadeBCPCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHValidacaoNormal::validacaoContratoDocumentacao</string>
               <packageActivityPlugin>
                  <processDefId>CHValidacaoNormal</processDefId>
                  <activityDefId>validacaoContratoDocumentacao</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoContratoDocumentacao&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoBancariaNB</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoBancariaNB</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoBancariaNB&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::finalizarContratacao</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>finalizarContratacao</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_contratacao\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoMinutas</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoMinutas</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoMinutas&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::ultimaAtividadeNBCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>ultimaAtividadeNBCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHValidacaoNormal::ultimaAtividadeVal</string>
               <packageActivityPlugin>
                  <processDefId>CHValidacaoNormal</processDefId>
                  <activityDefId>ultimaAtividadeVal</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoNB</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoNB</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoNB&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;true&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::emissaoMinutas</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>emissaoMinutas</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;emissaoMinutas&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::validacaoBancariaLegalBST</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>validacaoBancariaLegalBST</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoBancariaLegalBST&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::ultimaAtividadeNBCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>ultimaAtividadeNBCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::emissaoCarta</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>emissaoCarta</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;emissaoMinutas&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::ultimaAtividadeGENCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>ultimaAtividadeGENCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::ConfigurarProcsso</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>ConfigurarProcsso</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\nimport java.time.LocalDateTime; \r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.DayOfWeek;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport javax.sql.DataSource;\r\nimport org.joget.commons.util.UuidGenerator;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;0\&quot;);\r\nwm.processVariable(ProcessID, \&quot;proxima_operativa\&quot; , \&quot;\&quot;);\r\n\r\n\r\n\/******************** SLA ****************************\/\r\n\r\npublic String calculateSLAD(String dataInicio, Collection feriados, String sla, String urgencia){\r\n    \r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd HH:mm\&quot;);\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(\&quot;yyyy-MM-dd\&quot;);\r\n    LocalDateTime dateInit = LocalDateTime.parse(dataInicio, formatter);  \r\n    LocalDateTime endDateTime = null;\r\n    String endDate = \&quot;\&quot;;\r\n    Collection holidays = feriados;\r\n    \r\n    \r\n    var hour = dateInit.getHour();\r\n    int slaNumber = Integer.parseInt(sla);\r\n    \r\n    if(urgencia.equals(\&quot;SIM\&quot;)){\r\n        \/\/Calcular SLA urgente\r\n        endDateTime = dateInit.plusHours(slaNumber);\r\n        \/\/Passar dias não uteis\r\n        while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n           endDateTime = endDateTime.plusDays(1);\r\n        }\r\n        \r\n        endDate = endDateTime.format(formatter);\r\n        \r\n        \r\n     \r\n    }else{\r\n        \/\/Calcular SLA não urgente\r\n\r\n            if(hour &lt; 12){\r\n                endDateTime = dateInit.withHour(23).withMinute(59);   \/**   HORAS UTEIS???   **\/\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }   \r\n                    slaNumber -= 1;\r\n                }\r\n            }else{\r\n                endDateTime = dateInit.plusDays(1).withHour(12).withMinute(0);\r\n                \r\n                \/\/Incrementar dias consoante o SLA\r\n                while(slaNumber &gt; 1){\r\n                    endDateTime = endDateTime.plusDays(1);\r\n                    \/\/Passar dias não uteis\r\n                    while(isWeekend(endDateTime) || holidays.contains(endDateTime.format(dateFormatter))){\r\n                       endDateTime = endDateTime.plusDays(1);\r\n                    }\r\n                    slaNumber -= 1;\r\n                }\r\n            }\r\n            \r\n        endDate = endDateTime.format(formatter);\r\n    }\r\n    \r\n    return endDate;\r\n}\r\n\r\npublic boolean isWeekend(LocalDateTime dt) {\r\n    String dayOfWeek = dt.getDayOfWeek().toString();\r\n    \/\/LogUtil.info(\&quot;DAY OF WEEK\&quot;, \&quot;\&quot; + dayOfWeek);\r\n    switch(dayOfWeek) {\r\n        case \&quot;SATURDAY\&quot;:{\r\n            return true;\r\n        }\r\n        case \&quot;SUNDAY\&quot;:{\r\n            return true;\r\n        }\r\n        default:{\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\npublic void updateSLA(){\r\n    Connection con = null;\r\n    PreparedStatement stmt = null;\r\n    ResultSet rs = null;\r\n    \r\n    try{\r\n        DataSource ds = (DataSource)AppUtil.getApplicationContext().getBean(\&quot;setupDataSource\&quot;);\r\n        con = ds.getConnection();\r\n        \r\n        if(!con.isClosed()){\r\n            String operativa_anterior = \&quot;#variable.operativa_anterior#\&quot;;\r\n            String id_processo_anterior = \&quot;#variable.id_processo_anterior#\&quot;;\r\n            \r\n            \r\n            if(!operativa_anterior.equals(\&quot;CONTRATACAO\&quot;) &amp;&amp; !operativa_anterior.trim().isEmpty()){\r\n                \r\n                \/\/Atualizar o sla Em curso para fechado\r\n                String queryReset= \&quot;UPDATE app_fd_sla_atividade SET c_estado_atividade = &apos;Fechada&apos; WHERE c_id_processo=? AND c_estado_atividade = &apos;Em curso&apos;;\&quot;; \r\n                stmt = con.prepareStatement(queryReset);\r\n                stmt.setObject(1, id_processo_anterior);\r\n                rs = stmt.executeQuery();\r\n                rs=null;\r\n                \r\n                \/\/Obter detalhes da tarefa\r\n                String queryGetAssignment = \&quot;SELECT name FROM shkprocesses WHERE id=?;\&quot;;\r\n                String queryGetUserAssign = \&quot;SELECT resourceid FROM shkassignmentstable WHERE activityprocessid =?\&quot;;\r\n                String nomeAtividade = \&quot;\&quot;;\r\n                String utilizador = \&quot;\&quot;;\r\n                stmt = con.prepareStatement(queryGetAssignment);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    nomeAtividade= rs.getObject(\&quot;name\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetUserAssign);\r\n                stmt.setObject(1, ProcessID);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                    utilizador= rs.getObject(\&quot;resourceid\&quot;).toString();\r\n                    rs=null;\r\n                }\r\n                \r\n                \/\/Obter feriados\r\n                        String queryGetHolidays = \&quot;SELECT * FROM app_fd_lista_feriados;\&quot;;\r\n                        stmt = con.prepareStatement(queryGetHolidays);\r\n                        rs = stmt.executeQuery();\r\n                        Collection holidays = new ArrayList(); \r\n                        \r\n                        while(rs.next()){\r\n                            holidays.add(rs.getObject(\&quot;c_data\&quot;));\r\n                        }\r\n                \r\n                \/\/Obter Urgencia\r\n                String urgente = \&quot;\&quot;;\r\n                String recordId = \&quot;#process.recordId#\&quot;;\r\n                String queryGetUrgencia = \&quot;SELECT c_urgencia FROM app_fd_detalhe_processo WHERE c_id_processo = ?\&quot;;\r\n                stmt = con.prepareStatement(queryGetUrgencia);\r\n                stmt.setObject(1, recordId);\r\n                rs = stmt.executeQuery();\r\n                \r\n                if(rs.next()){\r\n                   urgente = rs.getObject(\&quot;c_urgencia\&quot;);\r\n                }\r\n                \r\n                \/\/Obter configurações de SLA consoante a operativa e urgencia\r\n                String paramOperativa = \&quot;CONTRATACAO\&quot;;\r\n                String queryGetSLAConfig = \&quot;SELECT * FROM app_fd_valores_sla WHERE c_nome like ? \&quot;;\r\n                if(urgente.equals(\&quot;SIM\&quot;)){\r\n                    queryGetSLAConfig += \&quot;AND c_nome like &apos;%URGENTE&apos;\&quot;;\r\n                    paramOperativa += \&quot;%\&quot;;\r\n                }\r\n                \r\n                stmt = con.prepareStatement(queryGetSLAConfig);\r\n                stmt.setObject(1, paramOperativa);\r\n                rs = stmt.executeQuery();\r\n                String sla = \&quot;\&quot;; \r\n                if(rs.next()){\r\n                    sla = rs.getObject(\&quot;c_sla\&quot;);\r\n                }\r\n                \r\n                \r\n                String queryCreateSLA = \&quot;INSERT INTO app_fd_sla_atividade (id, dateCreated, dateModified, createdBy,createdByName ,modifiedBy, modifiedByName, c_data_inicio, c_data_fim, c_nome_atividade, c_id_processo, c_utilizador_atribuido, c_estado_atividade) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?);\&quot;;\r\n                stmt = con.prepareStatement(queryCreateSLA);\r\n                \r\n                var idSLA = UuidGenerator.getInstance().getUuid();\r\n                var dateNow =\&quot;#date.yyyy-MM-dd HH:mm#\&quot;;\r\n                var currentUsername = \&quot;#currentUser.username#\&quot;;\r\n                var currentNameUser = \&quot;#currentUser.firstName#\&quot; + \&quot;#currentUser.lastName#\&quot;;\r\n                String dataFim = calculateSLAD(dateNow, holidays, sla, urgente);\r\n               \r\n                var estadoAtividade = \&quot;Em curso\&quot;;\r\n                stmt.setObject(1, idSLA);\r\n                stmt.setObject(2, dateNow);\r\n                stmt.setObject(3, dateNow);\r\n                stmt.setObject(4, currentUsername);\r\n                stmt.setObject(5, currentNameUser);\r\n                stmt.setObject(6, currentUsername);\r\n                stmt.setObject(7, currentNameUser);\r\n                stmt.setObject(8, dateNow);\r\n                stmt.setObject(9, dataFim);   \r\n                stmt.setObject(10, nomeAtividade);\r\n                stmt.setObject(11, ProcessID);\r\n                stmt.setObject(12, utilizador);\r\n                stmt.setObject(13, estadoAtividade);\r\n    \r\n                rs = stmt.executeQuery();\r\n                 \r\n            }\r\n        }\r\n      \r\n    }catch(Exception e){\r\n                LogUtil.error(appDef.toString(), e, \&quot;Error getting info from DB\&quot;);\r\n            }finally{\r\n                try{\r\n                    if(rs != null){\r\n                    rs.close();\r\n                    }\r\n                    if(stmt != null){\r\n                        stmt.close();\r\n                    }\r\n                    if(con != null &amp;&amp; !con.isClosed()) {\r\n                        con.close();\r\n                    }\r\n                }catch(Exception e){\r\n                    LogUtil.error(appDef.toString(), e, \&quot;Error closing DB connection\&quot;);\r\n                }\r\n                \r\n            }\r\n}\r\nupdateSLA();\r\nwm.processVariable(ProcessID, \&quot;operativa_anterior\&quot; , \&quot;CONTRATACAO\&quot;);\r\nwm.processVariable(ProcessID, \&quot;id_processo_anterior\&quot; , ProcessID);&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::ultimaAtividadeMGCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>ultimaAtividadeMGCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoBancariaNB</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoBancariaNB</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoBancariaNB&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoBST</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoBST</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoBST&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoBST</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoBST</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoBST&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;REALOCAR&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHConclusoes::ultimaAtividadeConc</string>
               <packageActivityPlugin>
                  <processDefId>CHConclusoes</processDefId>
                  <activityDefId>ultimaAtividadeConc</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;2\&quot;);&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHValidacaoComplexo::validacaoContratoDocumentacao</string>
               <packageActivityPlugin>
                  <processDefId>CHValidacaoComplexo</processDefId>
                  <activityDefId>validacaoContratoDocumentacao</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoContratoDocumentacao&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoBancariaLegalBCP</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoBancariaLegalBCP</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoBancariaLegalBCP&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::PreenchimentoProcessoBCP</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>PreenchimentoProcessoBCP</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoBCP&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::PreenchimentoProcessoBCP</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>PreenchimentoProcessoBCP</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;PreenchimentoProcessoBCP&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHConclusoes::concluirProcesso</string>
               <packageActivityPlugin>
                  <processDefId>CHConclusoes</processDefId>
                  <activityDefId>concluirProcesso</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;concluirProcesso&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;true&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoMinutas</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoMinutas</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoMinutas&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::ultimaAtividadeBICCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <activityDefId>ultimaAtividadeBICCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::ultimaAtividadeBICCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>ultimaAtividadeBICCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::ultimaAtividadeGenCont</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>ultimaAtividadeGenCont</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHValidacaoComplexo::ultimaAtividadeVal</string>
               <packageActivityPlugin>
                  <processDefId>CHValidacaoComplexo</processDefId>
                  <activityDefId>ultimaAtividadeVal</activityDefId>
                  <pluginName>org.joget.apps.app.lib.BeanShellTool</pluginName>
                  <pluginProperties>{&quot;script&quot;:&quot;import org.joget.workflow.model.service.*;\r\nimport org.joget.commons.util.LogUtil;\r\nimport org.joget.apps.app.service.AppUtil;\r\n\r\nString ProcessID = workflowAssignment.getProcessId();\r\n\r\n\/\/Set the workflow variable\r\nWorkflowManager wm = (WorkflowManager) pluginManager.getBean(\&quot;workflowManager\&quot;);\r\nwm.processVariable(ProcessID, \&quot;flag_ultima_atividade\&quot; , \&quot;1\&quot;);\r\n&quot;}</pluginProperties>
               </packageActivityPlugin>
            </entry>
            <entry>
               <string>CHContratacaoNormal::validacaoBancariaLegalBST</string>
               <packageActivityPlugin>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <activityDefId>validacaoBancariaLegalBST</activityDefId>
                  <pluginName>org.joget.process.AssignmentFormActions</pluginName>
                  <pluginProperties>{&quot;runInBackground&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;enableClarification&quot;:&quot;&quot;,&quot;enableReassignment&quot;:&quot;true&quot;,&quot;reassignmentActivityId&quot;:&quot;validacaoBancariaLegalBST&quot;,&quot;optionsBinder&quot;:{&quot;className&quot;:&quot;org.joget.plugin.enterprise.UserOptionsBinder&quot;,&quot;properties&quot;:{&quot;orgId&quot;:&quot;&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;addEmptyOption&quot;:&quot;&quot;,&quot;emptyLabel&quot;:&quot;&quot;,&quot;optionLabel&quot;:&quot;&quot;,&quot;grouping&quot;:&quot;&quot;,&quot;useAjax&quot;:&quot;&quot;,&quot;cacheInterval&quot;:&quot;&quot;}},&quot;reassignButtonLabel&quot;:&quot;#i18n.msg_realocar#&quot;,&quot;reassignIgnoreValidation&quot;:&quot;true&quot;,&quot;postReassignTool&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}},&quot;updateAsigneeField&quot;:&quot;&quot;,&quot;reassignTooltip&quot;:&quot;&quot;,&quot;enableWithdrawal&quot;:&quot;&quot;,&quot;enableApproval&quot;:&quot;&quot;,&quot;completeUpdateStatus&quot;:&quot;&quot;,&quot;completeButtonLabel&quot;:&quot;&quot;,&quot;enableComments&quot;:&quot;&quot;,&quot;enableProcessStatus&quot;:&quot;true&quot;,&quot;showProcessName&quot;:&quot;&quot;,&quot;showFutureActivities&quot;:&quot;&quot;,&quot;showSkippedActivities&quot;:&quot;&quot;,&quot;usernameFormat&quot;:&quot;name&quot;,&quot;processTable&quot;:&quot;{appId}_pd&quot;,&quot;updateStatus&quot;:&quot;true&quot;,&quot;workflowVariable&quot;:&quot;status&quot;,&quot;updateDraft&quot;:&quot;&quot;,&quot;parentFieldId&quot;:&quot;status&quot;,&quot;statusValue&quot;:[{&quot;status&quot;:&quot;Approved&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Rejected&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Clarification&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Reassignment&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Withdrawal&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Completed&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;},{&quot;status&quot;:&quot;Draft&quot;,&quot;customValue&quot;:&quot;&quot;,&quot;customLabel&quot;:&quot;&quot;}]}</pluginProperties>
               </packageActivityPlugin>
            </entry>
         </packageActivityPluginMap>
         <packageParticipantMap>
            <entry>
               <string>CHContratacaoNormal::contratacao_nvb</string>
               <packageParticipant>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <participantId>contratacao_nvb</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_NVB_NOR_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%/P35Z2SADop8Y4XElVGh3HTXOJAN58vz6Syog+ZHplA=%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_nvb#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHProducaoComplexo::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CHProducaoComplexo</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHProducaoNormal::ProdRobot</string>
               <packageParticipant>
                  <processDefId>CHProducaoNormal</processDefId>
                  <participantId>ProdRobot</participantId>
                  <type>department</type>
                  <value>PL_INT_PRD_GEN_RPA_CRH</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHConclusoes::conclusoes</string>
               <packageParticipant>
                  <processDefId>CHConclusoes</processDefId>
                  <participantId>conclusoes</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CON&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%LGiZ/i0UFMmIO5AIQwr0jw==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_conclusoes#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::contratacao_bcp_com</string>
               <packageParticipant>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <participantId>contratacao_bcp_com</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_BCP_COM_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%dXqMd6hd+yiRs5NZjxLi1w==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_bcp_com#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHFiltroNormal::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CHFiltroNormal</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>diligencias::destinatario</string>
               <packageParticipant>
                  <processDefId>diligencias</processDefId>
                  <participantId>destinatario</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;deptIdDesc&quot;:&quot;#variable.equipa_destinataria#&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%qzTzdZLnIRwGqoxdpf2ZHA==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.gestor_destinatario#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>poll_email::starter</string>
               <packageParticipant>
                  <processDefId>poll_email</processDefId>
                  <participantId>starter</participantId>
                  <type>requester</type>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHValidacaoComplexo::validacao_com</string>
               <packageParticipant>
                  <processDefId>CHValidacaoComplexo</processDefId>
                  <participantId>validacao_com</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_VAL_GEN_COM_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%oiySYlISgDRORik6n+0kXw==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_validacao_com#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHValidacaoComplexo::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CHValidacaoComplexo</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoNormal::contratacao_mtg2</string>
               <packageParticipant>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <participantId>contratacao_mtg2</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_MTG_NOR_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%ikoIPN9uxzen8WYxy9P5eA==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_mtg2#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHFiltroComplexo::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CHFiltroComplexo</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoNormal::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoNormal::contratacao_mtg1</string>
               <packageParticipant>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <participantId>contratacao_mtg1</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_MTG_NOR_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%PfZMXuJK6z1NHW5gQaoAi47B8ljPa/pVCl5f2WYKK5E=%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_mtg1#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CreditoHabitacao::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CreditoHabitacao</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoNormal::contratacao_gen</string>
               <packageParticipant>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <participantId>contratacao_gen</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_DUM&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%CkZbl2ovVu7k/42UDWzRxQ==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_gen#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoNormal::contratacao_bcp</string>
               <packageParticipant>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <participantId>contratacao_bcp</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_BCP_NOR_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%JT4mG2FiwO/dAvx0RwxEqQ==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_bcp#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHFiltroNormal::filtro</string>
               <packageParticipant>
                  <processDefId>CHFiltroNormal</processDefId>
                  <participantId>filtro</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_FLT_GEN_NOR_CRH&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%MsxC9/rnkBsumMHPWqTwww==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_filtro#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoNormal::contratacao_bst</string>
               <packageParticipant>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <participantId>contratacao_bst</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_BST_NOR_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%Wease0tn4FDraJ7ylLxqLw==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_bst#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHProducaoComplexo::ProdRobot_com</string>
               <packageParticipant>
                  <processDefId>CHProducaoComplexo</processDefId>
                  <participantId>ProdRobot_com</participantId>
                  <type>department</type>
                  <value>PL_INT_PRD_GEN_RPA_CRH</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::contratacao_mtg1_com</string>
               <packageParticipant>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <participantId>contratacao_mtg1_com</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_MTG_COM_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%XnFSCeu/tY4fm2LmSZGu/Q==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_mtg1_com#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoNormal::contratacao_bic</string>
               <packageParticipant>
                  <processDefId>CHContratacaoNormal</processDefId>
                  <participantId>contratacao_bic</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_BIC_NOR_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%89bRtG2HcCE0QGCJuHlT0g==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_bic#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHProducaoNormal::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CHProducaoNormal</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::contratacao_bic_com</string>
               <packageParticipant>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <participantId>contratacao_bic_com</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_BIC_COM_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%ZMEmjZ2t7QWr4Xx2+1Efhw==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_bic_com#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHFiltroComplexo::filtro_com</string>
               <packageParticipant>
                  <processDefId>CHFiltroComplexo</processDefId>
                  <participantId>filtro_com</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_FLT_GEN_COM_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%fKDY0Rr1EgqXwHGyvUt6FA==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_filtro_com#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>poll_email::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>poll_email</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHValidacaoNormal::validacao</string>
               <packageParticipant>
                  <processDefId>CHValidacaoNormal</processDefId>
                  <participantId>validacao</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_VAL_GEN_NOR_CRH&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%t/KR9VGNkn7+sbyU0cbPkA==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_validacao#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::contratacao_nvb_com</string>
               <packageParticipant>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <participantId>contratacao_nvb_com</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_NVB_COM_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%LDXYXSYH0wtmiek5huByDQ==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_nvb_com#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHValidacaoNormal::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CHValidacaoNormal</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::contratacao_bst_com</string>
               <packageParticipant>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <participantId>contratacao_bst_com</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_BST_COM_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%yer/Kc8yDOE6lffOJXbHVg==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_bst_com#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHContratacaoComplexo::contratacao_mtg2_com</string>
               <packageParticipant>
                  <processDefId>CHContratacaoComplexo</processDefId>
                  <participantId>contratacao_mtg2_com</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_CNT_MTG_COM_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%ZXozRp5gGQG3+GXCCst2RQ==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_contratacao_mtg2_com#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHConclusoes::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>CHConclusoes</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>adminUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>diligencias::processStartWhiteList</string>
               <packageParticipant>
                  <processDefId>diligencias</processDefId>
                  <participantId>processStartWhiteList</participantId>
                  <type>role</type>
                  <value>loggedInUser</value>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHProducaoComplexo::producao_com</string>
               <packageParticipant>
                  <processDefId>CHProducaoComplexo</processDefId>
                  <participantId>producao_com</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_PRD_GEN_COM_CRH&quot;,&quot;deptIdDesc&quot;:&quot;&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%w8zVWztFNhtPrxNP2/j/7w==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_producao_com#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>CHProducaoNormal::producao</string>
               <packageParticipant>
                  <processDefId>CHProducaoNormal</processDefId>
                  <participantId>producao</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;PL_INT_PRD_GEN_NOR_CRH&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%x9EtU5EzmDtVFCQBjFYPpA==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.user_producao#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
            <entry>
               <string>diligencias::remetente</string>
               <packageParticipant>
                  <processDefId>diligencias</processDefId>
                  <participantId>remetente</participantId>
                  <type>plugin</type>
                  <value>org.joget.marketplace.EnhancedLoadBalancedParticipant</value>
                  <pluginProperties>{&quot;orgId&quot;:&quot;PL&quot;,&quot;deptId&quot;:&quot;&quot;,&quot;deptIdDesc&quot;:&quot;#variable.equipa_remetente#&quot;,&quot;groupId&quot;:&quot;&quot;,&quot;getChoiceThisApp&quot;:&quot;&quot;,&quot;getChoiceDatabaseType&quot;:&quot;mySql&quot;,&quot;getChoiceDatabaseAddress&quot;:&quot;localhost&quot;,&quot;getChoiceDatabasePort&quot;:&quot;3307&quot;,&quot;getChoiceDatabaseUser&quot;:&quot;root&quot;,&quot;getChoiceDatabasePass&quot;:&quot;%%%%M2OTlBO+TukwVkCWPFjZgQ==%%%%&quot;,&quot;getChoiceAssignToLastPerformer&quot;:&quot;true&quot;,&quot;getChoiceLastLanePerformer&quot;:&quot;#variable.gestor_remetente#&quot;,&quot;getChoiceCurrentUser&quot;:&quot;&quot;,&quot;exclusion&quot;:&quot;&quot;,&quot;debugMode&quot;:&quot;true&quot;}</pluginProperties>
               </packageParticipant>
            </entry>
         </packageParticipantMap>
      </packageDefinition>
   </packageDefinitionList>
   <formDefinitionList/>
   <userviewDefinitionList/>
   <datalistDefinitionList/>
   <builderDefinitionList/>
   <pluginDefaultPropertiesList/>
   <environmentVariableList/>
   <messageList>
      <message>
         <id> serveridwf_pt_PT</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <messageKey> serveridwf</messageKey>
         <locale>pt_PT</locale>
         <message>192.168.0.104:8080</message>
      </message>
      <message>
         <id>emailmsg_pt_PT</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <messageKey>emailmsg</messageKey>
         <locale>pt_PT</locale>
         <message>E-mail Inválido</message>
      </message>
      <message>
         <id>mandatorymsg_pt_PT</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <messageKey>mandatorymsg</messageKey>
         <locale>pt_PT</locale>
         <message>Campo Obrigatório</message>
      </message>
      <message>
         <id>msg_enviar_pt_PT</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <messageKey>msg_enviar</messageKey>
         <locale>pt_PT</locale>
         <message>ENVIAR</message>
      </message>
      <message>
         <id>msg_guardar_pt_PT</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <messageKey>msg_guardar</messageKey>
         <locale>pt_PT</locale>
         <message>GUARDAR</message>
      </message>
      <message>
         <id>msg_realocar_pt_PT</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <messageKey>msg_realocar</messageKey>
         <locale>pt_PT</locale>
         <message>REALOCAR</message>
      </message>
   </messageList>
   <resourceList>
      <appResource>
         <id>elemento_grafico_icone.png</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <filesize>14102</filesize>
         <permissionClass>org.joget.apps.userview.lib.LoggedInUserPermission</permissionClass>
         <permissionProperties>{&quot;permission&quot;: { &quot;className&quot;: &quot;org.joget.apps.userview.lib.LoggedInUserPermission&quot;, &quot;properties&quot;: {}}}</permissionProperties>
      </appResource>
      <appResource>
         <id>logo_navbar.png</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <filesize>84605</filesize>
         <permissionClass>org.joget.apps.userview.lib.LoggedInUserPermission</permissionClass>
         <permissionProperties>{&quot;permission&quot;: { &quot;className&quot;: &quot;org.joget.apps.userview.lib.LoggedInUserPermission&quot;, &quot;properties&quot;: {}}}</permissionProperties>
      </appResource>
      <appResource>
         <id>Millennium.jpg</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <filesize>5742</filesize>
         <permissionProperties>{&quot;hashvariable&quot;:&quot;#appResource.Millennium.jpg#&quot;,&quot;permission&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}}}</permissionProperties>
      </appResource>
      <appResource>
         <id>MillenniumFooter.jpg</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <filesize>5903</filesize>
         <permissionProperties>{&quot;hashvariable&quot;:&quot;#appResource.MillenniumFooter.jpg#&quot;,&quot;permission&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}}}</permissionProperties>
      </appResource>
      <appResource>
         <id>PL_favicon.png</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <filesize>6039</filesize>
         <permissionProperties>{&quot;hashvariable&quot;:&quot;#appResource.PL_favicon.png#&quot;,&quot;permission&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}}}</permissionProperties>
      </appResource>
      <appResource>
         <id>PL_Full_Symbol_on_Green_Background-removeb.png</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <filesize>39906</filesize>
         <permissionClass>org.joget.apps.userview.lib.LoggedInUserPermission</permissionClass>
         <permissionProperties>{&quot;permission&quot;: { &quot;className&quot;: &quot;org.joget.apps.userview.lib.LoggedInUserPermission&quot;, &quot;properties&quot;: {}}}</permissionProperties>
      </appResource>
      <appResource>
         <id>PL_Full_Symbol_on_Green_Background.png</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <filesize>17660</filesize>
         <permissionClass>org.joget.apps.userview.lib.LoggedInUserPermission</permissionClass>
         <permissionProperties>{&quot;permission&quot;: { &quot;className&quot;: &quot;org.joget.apps.userview.lib.LoggedInUserPermission&quot;, &quot;properties&quot;: {}}}</permissionProperties>
      </appResource>
      <appResource>
         <id>PL_logo.png</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <filesize>26552</filesize>
         <permissionProperties>{&quot;hashvariable&quot;:&quot;#appResource.PL_logo.png#&quot;,&quot;permission&quot;:{&quot;className&quot;:&quot;&quot;,&quot;properties&quot;:{}}}</permissionProperties>
      </appResource>
      <appResource>
         <id>PL_Symbol_on_Green_Background.png</id>
         <appId>workflowPL</appId>
         <appVersion>2</appVersion>
         <filesize>10679</filesize>
         <permissionClass>org.joget.apps.userview.lib.LoggedInUserPermission</permissionClass>
         <permissionProperties>{&quot;permission&quot;: { &quot;className&quot;: &quot;org.joget.apps.userview.lib.LoggedInUserPermission&quot;, &quot;properties&quot;: {}}}</permissionProperties>
      </appResource>
   </resourceList>
   <license>Sz7mdStux960CvUVkRnWtmo7jYQ9hWWCLgYsulcaG+KNgdsYv/sWpjKlC2kFjiG5</license>
</appDefinition>